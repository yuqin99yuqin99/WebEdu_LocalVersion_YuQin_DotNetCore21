<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="Generator" content="Microsoft Word 15 (filtered)"><title>欢迎联系QQ：43930878。教与学_本机版_渔琴(Teaching&amp;Learning_LocalVersion_YuQin)</title><style><!-- /* Font Definitions */ @font-face	{font-family:Helvetica;	panose-1:2 11 6 4 2 2 2 2 2 4;}@font-face	{font-family:Courier;	panose-1:2 7 4 9 2 2 5 2 4 4;}@font-face	{font-family:Wingdings;	panose-1:5 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:宋体;	panose-1:2 1 6 0 3 1 1 1 1 1;}@font-face	{font-family:黑体;	panose-1:2 1 6 9 6 1 1 1 1 1;}@font-face	{font-family:"Cambria Math";	panose-1:2 4 5 3 5 4 6 3 2 4;}@font-face	{font-family:等线;	panose-1:2 1 6 0 3 1 1 1 1 1;}@font-face	{font-family:Calibri;	panose-1:2 15 5 2 2 2 4 3 2 4;}@font-face	{font-family:"Calibri Light";	panose-1:2 15 3 2 2 2 4 3 2 4;}@font-face	{font-family:Verdana;	panose-1:2 11 6 4 3 5 4 4 2 4;}@font-face	{font-family:"Arial Unicode MS";	panose-1:2 11 6 4 2 2 2 2 2 4;}@font-face	{font-family:楷体_GB2312;}@font-face	{font-family:̥_GB2312;	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:DFKai-SB;}@font-face	{font-family:华文新魏;	panose-1:2 1 8 0 4 1 1 1 1 1;}@font-face	{font-family:方正姚体;	panose-1:2 1 6 1 3 1 1 1 1 1;}@font-face	{font-family:幼圆;	panose-1:2 1 5 9 6 1 1 1 1 1;}@font-face	{font-family:Consolas;	panose-1:2 11 6 9 2 2 4 3 2 4;}@font-face	{font-family:微软雅黑;	panose-1:2 11 5 3 2 2 4 2 2 4;}@font-face	{font-family:Tahoma;	panose-1:2 11 6 4 3 5 4 4 2 4;}@font-face	{font-family:"Segoe UI";	panose-1:2 11 5 2 4 2 4 2 2 3;}@font-face	{font-family:ˎ̥;	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:"Courier New 宋体";	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:"Lucida Console";	panose-1:2 11 6 9 4 5 4 2 2 4;}@font-face	{font-family:"Segoe UI regular";	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:"Seoge ui";	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:"Myriad Pro";	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:"Courier New ����";	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:Cambria;	panose-1:2 4 5 3 5 4 6 3 2 4;}@font-face	{font-family:be;}@font-face	{font-family:zm;}@font-face	{font-family:楷体;	panose-1:2 1 6 9 6 1 1 1 1 1;}@font-face	{font-family:"\@黑体";	panose-1:2 1 6 9 6 1 1 1 1 1;}@font-face	{font-family:"\@宋体";	panose-1:2 1 6 0 3 1 1 1 1 1;}@font-face	{font-family:"\@楷体";	panose-1:2 1 6 9 6 1 1 1 1 1;}@font-face	{font-family:"\@等线";	panose-1:2 1 6 0 3 1 1 1 1 1;}@font-face	{font-family:"\@微软雅黑";	panose-1:2 11 5 3 2 2 4 2 2 4;}@font-face	{font-family:"\@楷体_GB2312";}@font-face	{font-family:"\@Myriad Pro";	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:"\@Courier New 宋体";	panose-1:0 0 0 0 0 0 0 0 0 0;}@font-face	{font-family:"\@Arial Unicode MS";	panose-1:2 11 6 4 2 2 2 2 2 4;}@font-face	{font-family:"\@幼圆";	panose-1:2 1 5 9 6 1 1 1 1 1;}@font-face	{font-family:"\@方正姚体";	panose-1:2 1 6 1 3 1 1 1 1 1;}@font-face	{font-family:"\@华文新魏";	panose-1:2 1 8 0 4 1 1 1 1 1;}@font-face	{font-family:"\@DFKai-SB";} /* Style Definitions */ p.MsoNormal, li.MsoNormal, div.MsoNormal	{margin:0cm;	text-align:justify;	text-justify:inter-ideograph;	text-indent:21.0pt;	font-size:10.5pt;	font-family:"Times New Roman",serif;	color:windowtext;}h1	{mso-style-name:"标题 1\,h1\,Level 1 Topic Heading\,h11\,Level 1 Topic Heading1\,实例名称";	mso-style-link:"标题 1 字符1\,h1 字符1\,Level 1 Topic Heading 字符1\,h11 字符1\,Level 1 Topic Heading1 字符1\,实例名称 字符1";	margin:0cm;	text-align:justify;	text-justify:inter-ideograph;	line-height:150%;	page-break-after:avoid;	font-size:10.5pt;	font-family:"Times New Roman",serif;	color:windowtext;	font-weight:bold;}h2	{mso-style-name:"标题 2\,Heading 2 Hidden\,Heading 2 CCBS\,Titre3\,HD2\,H2\,h2\,Level 2 Topic Heading\,Heading 2 Hidden1\,Heading 2 CCBS1\,Titre31\,HD21\,H21\,h21\,Level 2 Topic Heading1\,节题";	mso-style-link:"标题 2 字符1\,Heading 2 Hidden 字符1\,Heading 2 CCBS 字符1\,Titre3 字符1\,HD2 字符1\,H2 字符1\,h2 字符1\,Level 2 Topic Heading 字符1\,Heading 2 Hidden1 字符1\,Heading 2 CCBS1 字符1\,Titre31 字符1\,HD21 字符1\,H21 字符1\,h21 字符1\,Level 2 Topic Heading1 字符1\,节题 字符1";	margin-top:0cm;	margin-right:0cm;	margin-bottom:0cm;	margin-left:1.0cm;	text-align:justify;	text-justify:inter-ideograph;	text-indent:-1.0cm;	line-height:150%;	page-break-after:avoid;	font-size:11.0pt;	font-family:"Arial",sans-serif;	color:windowtext;	font-weight:bold;}h3	{mso-style-name:"标题 3\,Heading 3 - old\,sect1\.2\.3\,h3\,Level 3 Topic Heading\,Heading 3 - old1\,sect1\.2\.31\,h31\,Level 3 Topic Heading1\,\(分步\)\,\(小节\)";	mso-style-link:"标题 3 字符2\,Heading 3 - old 字符2\,sect1\.2\.3 字符2\,h3 字符2\,Level 3 Topic Heading 字符2\,Heading 3 - old1 字符2\,sect1\.2\.31 字符2\,h31 字符2\,Level 3 Topic Heading1 字符2\,\(分步\) 字符2\,\(小节\) 字符2";	margin-top:13.5pt;	margin-right:0cm;	margin-bottom:13.5pt;	margin-left:78.0pt;	text-align:justify;	text-justify:inter-ideograph;	text-indent:-35.45pt;	line-height:172%;	page-break-after:avoid;	font-size:10.5pt;	font-family:"Times New Roman",serif;	color:windowtext;	font-weight:bold;}span.MsoEndnoteReference	{vertical-align:super;}a:link, span.MsoHyperlink	{color:blue;	text-decoration:underline;}p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph	{margin:0cm;	font-size:12.0pt;	font-family:宋体;	color:windowtext;}span.21	{mso-style-name:"标题 2 字符1\,Heading 2 Hidden 字符1\,Heading 2 CCBS 字符1\,Titre3 字符1\,HD2 字符1\,H2 字符1\,h2 字符1\,Level 2 Topic Heading 字符1\,Heading 2 Hidden1 字符1\,Heading 2 CCBS1 字符1\,Titre31 字符1\,HD21 字符1\,H21 字符1\,h21 字符1\,Level 2 Topic Heading1 字符1\,节题 字符1";	mso-style-link:"标题 2\,Heading 2 Hidden\,Heading 2 CCBS\,Titre3\,HD2\,H2\,h2\,Level 2 Topic Heading\,Heading 2 Hidden1\,Heading 2 CCBS1\,Titre31\,HD21\,H21\,h21\,Level 2 Topic Heading1\,节题";	font-family:"Arial",sans-serif;	font-weight:bold;}span.11	{mso-style-name:"标题 1 字符1\,h1 字符1\,Level 1 Topic Heading 字符1\,h11 字符1\,Level 1 Topic Heading1 字符1\,实例名称 字符1";	mso-style-link:"标题 1\,h1\,Level 1 Topic Heading\,h11\,Level 1 Topic Heading1\,实例名称";	font-weight:bold;}p.4142515, li.4142515, div.4142515	{mso-style-name:"样式 标题 4 + 段前\: 14\.25 磅 段后\: 15 磅";	margin-top:0cm;	margin-right:0cm;	margin-bottom:0cm;	margin-left:42.55pt;	text-indent:-42.55pt;	page-break-after:avoid;	font-size:12.0pt;	font-family:"Arial",sans-serif;	color:windowtext;	font-weight:bold;}.MsoChpDefault	{font-size:10.0pt;} /* Page Definitions */ @page WordSection1	{size:21.0cm 808.0pt;	margin:78.0pt 2.0cm 78.0pt 2.0cm;	layout-grid:14.45pt;}div.WordSection1	{page:WordSection1;} /* List Definitions */ ol	{margin-bottom:0cm;}ul	{margin-bottom:0cm;}--></style></head><body lang="ZH-CN" link="blue" vlink="purple" style="overflow-wrap: break-word; cursor: default;" contenteditable="false"><div class="WordSection1" style="layout-grid:14.45pt"><h1 align="left" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:7.2pt;margin-left:21.25pt;text-align:left;text-indent:-21.25pt;line-height:133%"><a name="_Ref83040226"></a><a name="_Toc88575266"></a><a name="_Ref141712760"></a><a name="_Toc144620313"><span lang="EN-US" style="font-size:18.0pt;line-height:133%;font-family:黑体">第5章</span><span style="font-size:18.0pt;line-height:133%;font-family:黑体">教育数字思维视角的“教育软件框架与案例”</span></a></h1><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Ref140616536"></a><a name="_Toc144620315"><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.1<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">教育数字思维视角的教育软件框架与案例之一【目录导航的教育软件】</span></a></h2><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Ref141546661"></a><a name="_Toc144620316"><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.2<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">初创方的<span lang="EN-US">.Net</span>根基对象类型平台的工程四个环节（<span lang="EN-US">0/1</span>语言的<span lang="EN-US">.exe/.dll</span>文件）</span></a></h2><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Toc121437399"></a><a name="_Ref140931032"></a><a name="_Ref141016399"></a><a name="_Ref141016402"></a><a name="_Ref141546671"></a><a name="_Ref143701665"></a><a name="_Toc144620317"></a><a name="_MON_1289828366"></a><a name="_MON_1289831310"></a><a name="_MON_1289979196"></a><a name="_MON_1290089412"></a><a name="_MON_1280173144"></a><a name="_MON_1280234971"></a><a name="_MON_1280250801"></a><a name="_MON_1282415442"></a><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.3<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">他创方的<span lang="EN-US">.Net</span>拓展对象类型平台的工程四个环节（<span lang="EN-US">0/1</span>语言的<span lang="EN-US">.nupkg</span>文件）</span></h2><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Toc121437283"></a><a name="_Ref127464199"></a><a name="_Toc133146131"></a><a name="_Ref140931033"></a><a name="_Ref141016410"></a><a name="_Ref141016414"></a><a name="_Ref141181940"></a><a name="_Ref141546673"></a><a name="_Ref142492432"></a><a name="_Ref143761902"></a><a name="_Ref143871205"></a><a name="_Toc144620318"><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.4<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">自创方的<span lang="EN-US">.Net</span>拓展对象类型平台的工程四个环节（<span lang="EN-US">C#</span>语言的<span lang="EN-US">.cs</span>文件<span lang="EN-US">/.csproj</span>项目文件<span lang="EN-US">/.sln</span>解决方案文件）</span></a></h2><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Ref141181801"></a><a name="_Toc144620324"><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.5<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">对象类型的结构（线性结构、树型结构、网状结构）：<span lang="EN-US">LINQ/SQL</span></span></a></h2><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Ref141181800"></a><a name="_Toc144620325"><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.6<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">对象类型的关系</span></a><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">/</span><span style="font-size:14.0pt;font-family:黑体">模式</span></h2><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Ref112836440"></a><a name="_Ref112836446"></a><a name="_Ref113031079"></a><a name="_Toc121437344"></a><a name="_Toc133146182"></a><a name="_Toc144620327"><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.7<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">对象类型的架构（“客户端<span lang="EN-US">MVC</span>架构的视图<span lang="EN-US">V</span>”）： <span lang="EN-US">Word</span>客户端宿主的<span lang="EN-US">.Net</span>平台<span lang="EN-US">VSTO.Net</span>平台<span lang="EN-US">C#</span>语言为例</span></a><span style="font-size:14.0pt;font-family:黑体"> </span></h2><h2 style="margin-top:7.2pt;line-height:normal;layout-grid-mode:char"><a name="_Ref145000036"></a><a name="_Toc145626053"><span lang="EN-US" style="font-size:14.0pt;font-family:黑体">5.8<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;</span></span><span style="font-size:14.0pt;font-family:黑体">对象类型的架构（“互动<span lang="EN-US">MVC</span>架构的控制<span lang="EN-US">C</span>”）：<span lang="EN-US">Web</span>服务器宿主的<span lang="EN-US">.Net</span>平台<span lang="EN-US">ASP.Net MVC</span>子平台<span lang="EN-US">C#</span>语言为例</span></a></h2><div><a name="_Toc145626053"><br></a></div><div><a name="_Toc145626053"><p class="MsoNormal"><!--[if supportFields]><spanstyle='font-size:10.0pt'><span style='mso-element:field-begin'></span><spanstyle='mso-spacerun:yes'> </span>REF _Ref88050340 \h<spanstyle='mso-spacerun:yes'>  </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">表</span><span lang="ZH-CN" style="font-size:10.0pt"> </span><span style="font-size:10.0pt">3‑7<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F00520065006600380038003000350030003300340030000000</w:data></xml><![endif]--></span><!--[if supportFields]><span style='font-size:10.0pt'><spanstyle='mso-element:field-end'></span></span><![endif]--><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">所示“教育数字思维的本质框架”、</span><!--[if supportFields]><spanstyle='mso-bidi-font-size:10.5pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast'><spanstyle='mso-element:field-begin'></span> REF _Ref94046136 \h<spanstyle='mso-spacerun:yes'>  </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span style="mso-bidi-font-size:10.5pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast"><span lang="ZH-CN">案例 </span>5‑1<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F00520065006600390034003000340036003100330036000000</w:data></xml><![endif]--></span><!--[if supportFields]><span style='mso-bidi-font-size:10.5pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast'><span style='mso-element:field-end'></span></span><![endif]--><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast">所示</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">“教育软件框架与案例”</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast">中</span><span style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast">,<span lang="ZH-CN">涉及“客户端</span>MVC(<span lang="ZH-CN">架构</span>/<span lang="ZH-CN">模式</span>/<span lang="ZH-CN">关系</span>/<span lang="ZH-CN">结构</span>)<span lang="ZH-CN">、互动</span>MVC(<span lang="ZH-CN">架构</span>/<span lang="ZH-CN">模式</span>/<span lang="ZH-CN">关系</span>/<span lang="ZH-CN">结构</span>)<span lang="ZH-CN">、服务端</span>MVC(<span lang="ZH-CN">架构</span>/<span lang="ZH-CN">模式</span>/<span lang="ZH-CN">关系</span>/<span lang="ZH-CN">结构</span>)<span lang="ZH-CN">”。在此面向对象地探究“互动</span>MVC<span lang="ZH-CN">架构的控制</span>C<span lang="ZH-CN">”。</span></span><o:p></o:p></p><p class="MsoNormal"><span lang="ZH-CN" style="font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast">控制</span><span style="font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast">C<span lang="ZH-CN">涉及</span>Main<span lang="ZH-CN">方法、</span>Main<span lang="ZH-CN">方法中的服务</span>DI<span lang="ZH-CN">容器、</span>Main<span lang="ZH-CN">方法中的万维网</span>HTTP<span lang="ZH-CN">服务中间件。</span><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-top: 6pt; margin-bottom: 6pt; margin-left: 35.7pt; text-indent: -17.85pt; word-break: break-all;"><!--[if !supportLists]--><b><span style="font-size:11.0pt">一、<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></b><!--[endif]--><b><span style="font-size:11.0pt">Main<span lang="ZH-CN">方法的基本代码案例</span><o:p></o:p></span></b></p><div align="center"><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;mso-table-layout-alt:fixed;border:none; mso-border-alt:dashed windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt: 0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.5pt dashed windowtext;mso-border-insidev: .5pt dashed windowtext"> <tbody><tr>  <td width="687" valign="top" style="width:460.45pt;border:dashed windowtext 1.0pt;  mso-border-alt:dashed windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt">  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">namespace WebEdu_LocalVersion_YuQin_DotNetCore2._1<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">{<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp; public  class Program<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public  static Int32 iTry { get; set; } = 0;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public  static IConfiguration Configuration { get; set; }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public  static Microsoft.AspNetCore.Hosting.IHostingEnvironment HostingEnvironment {  get; set; }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public  static ILoggerFactory LoggerFactory { get; set; }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;//public static IServiceCollection  services { get; set; } = new  Microsoft.Extensions.DependencyInjection.ServiceCollection();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //  public static void Main(String[] args, IConfiguration configuration,  Microsoft.AspNetCore.Hosting.IHostingEnvironment hostingEnvironment)//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">不支持</span><span style="font-size:  10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public  static void Main(String[] args)<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //Random random = new Random();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //Int32 portNum = random.Next(5000, 6000);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //return WebHost.CreateDefaultBuilder(args).UseStartup&lt;Startup&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //  Int32 seed = 6;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //Random random = new Random(seed);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Random random = new Random();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Int32 portNum = random.Next(5000, 6000);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  String urls = "http://localhost:" + portNum.ToString() +  ";https://localhost:" + (portNum + 1).ToString() +  ";http://*:" + portNum.ToString() + ";https://*:" +  (portNum + 1).ToString();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">//KernelBuilder kernelBuilder = new  KernelBuilder();//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">人工只能</span><span style="font-size:10.0pt">AI</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">相关的服务</span><span style="font-size:10.0pt">DI</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">。通过</span><span style="font-size:  10.0pt"> KernelBuilder </span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">中的</span><span style="font-size:10.0pt">  WithAzureTextCompletionService </span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">来配置模型。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //kernelBuilder.WithAzureTextCompletionService("Azure OpenAT  Deployment Name:yuqin", "https://yuqin.openai.azure.com/",  "yuqin</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;  mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">的</span><span style="font-size:10.0pt">Azure OpenAI Key");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //kernelBuilder.WithOpenAITextCompletionService("text-davinci-93",  "...My OpenAI API Key..."); //</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">使用</span><span style="font-size:  10.0pt">OpenAI Model</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">模型时选择。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //  kernelBuilder.WithAzureChatCompletionService()//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">使用</span><span style="font-size:  10.0pt">gpt3.5</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">或</span><span style="font-size:10.0pt">gpt4</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">对话模型时选择。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //kernelBuilder.WithAzureOpenAIImageGenerationService()//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">使用</span><span style="font-size:  10.0pt">DallE</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">图像生成模型时选择。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //kernelBuilder.WithAzureTectEmbeddingGenerationService()//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">使用向量化嵌入模型时选择。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  IWebHostBuilder webHostBuilder = WebHost.CreateDefaultBuilder(args);//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">创建一个</span><span style="font-size:  10.0pt">Web</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;  mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">主机构造器对象。</span><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  webHostBuilder.UseKestrel(///Web</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">主机构造器对象使用</span><span style="font-size:10.0pt">Kestrel</span><span lang="ZH-CN" style="font-size:  10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">作为</span><span style="font-size:10.0pt">Web</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">服务器（</span><span style="font-size:  10.0pt">.Net core</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">内置</span><span style="font-size:10.0pt">Kestrel</span><span lang="ZH-CN" style="font-size:  10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">这一</span><span style="font-size:10.0pt">Web</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">服务器）。</span><span style="font-size:  10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  delegate (KestrelServerOptions kestrelServerOptions)//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">配置</span><span style="font-size:  10.0pt">Kestrel</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">服务器。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  kestrelServerOptions.Limits.MaxRequestBodySize = 209715200;//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">硬编码配置</span><span style="font-size:  10.0pt">Kestrel</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">服务。最大的请求长度设置为</span><span style="font-size:10.0pt">200M</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">。上传</span><span style="font-size:10.0pt">200M</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">文件的限制。</span><span style="font-size:  10.0pt">//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;  mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">如果发布到</span><span style="font-size:10.0pt">IIS</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">等服务器，可能还需要</span><span style="font-size:10.0pt">Web.config</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">中</span><span style="font-size:10.0pt">&lt;system.webServer&gt;&nbsp; &lt; security &gt;&nbsp;&nbsp;&nbsp; &lt; requestFiltering &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt; requestLimits  maxAllowedContentLength = "209715200" /&gt;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/ requestFiltering &gt;&nbsp;&nbsp; &lt;/ security &gt; &lt;/ system.webServer  &gt;&nbsp; <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  kestrelServerOptions.Configure(new  ConfigurationBuilder().Build().GetSection("Kestrel"));//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">也可读取软编码于</span><span style="font-size:10.0pt">AppSetting.json</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">及其</span><span style="font-size:  10.0pt">AppSetting.{</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">环境变量</span><span style="font-size:10.0pt">}.json</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">中中的</span><span style="font-size:  10.0pt">Kestrel</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">设置。尚未验证！</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;.UseIISIntegration()<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">#if DEBUG<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  .UseUrls("http://localhost:5000;https://localhost:5001;http://*:5000;https://*:5001")//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">指定</span><span style="font-size:  10.0pt">Kestrel</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">将侦听的</span><span style="font-size:10.0pt">URL</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">#else<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  .UseUrls(urls) <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">#endif&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  .ConfigureLogging(//</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">配置</span><span style="font-size:10.0pt">Web</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">服务器的日志。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;delegate (WebHostBuilderContext  webHostBuilderContext, ILoggingBuilder loggingBuilder)<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // Requires `using Microsoft.Extensions.Logging;`<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  loggingBuilder.AddConfiguration(webHostBuilderContext.Configuration.GetSection("Logging"));//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">调用</span><span style="font-size:  10.0pt">Appsetings.json</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">中的日志软配置</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  loggingBuilder.AddConsole(); //</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">其实会自动隐式配置本日志配置。</span><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  loggingBuilder.AddDebug();//</span><span lang="ZH-CN" style="font-size:  10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">其实会自动隐式配置本日志配置。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  loggingBuilder.AddEventSourceLogger();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  webHostBuilder.ConfigureAppConfiguration(delegate  (WebHostBuilderContext webHostBuilderContext, IConfigurationBuilder  configurationBuilder) <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  HostingEnvironment = webHostBuilderContext.HostingEnvironment;//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">没通过，所以后续</span><span style="font-size:10.0pt">ConfigureServices() </span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">、</span><span style="font-size:10.0pt">Configure()</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">都没能通过。</span><span style="font-size:  10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Configuration = configurationBuilder.Build();//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">没通过，所以后续</span><span style="font-size:10.0pt">ConfigureServices() </span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">、</span><span style="font-size:10.0pt">Configure()</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">都没能通过。</span><span style="font-size:  10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // iTry=2;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp; CTemp cTemp = new CTemp();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //&nbsp; CTemp.HostingEnvironment=  webHostBuilderContext.HostingEnvironment;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//  CTemp.Configuration = configurationBuilder.Build();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">//</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">初创方</span><span style="font-size:10.0pt">ASP.NET</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">内置了</span><span style="font-size:  10.0pt">250 </span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;  mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">个以上的服务可供</span><span style="font-size:10.0pt">DI</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">依赖注入</span><sup><span style="font-size:10.0pt">[<a href="file:///D:/Books/%E6%95%99%E8%82%B2%E6%A1%86%E6%9E%B6%E4%B8%8E%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E6%95%B0%E5%AD%97%E5%8C%96%E8%AE%A1%E7%AE%97%E6%80%9D%E7%BB%B4%E4%B8%8E%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%BB%9F%E4%B8%80%E7%9A%84%E8%A7%86%E8%A7%92/%E5%9B%BD%E5%AE%B6%E4%B8%80%E6%B5%81%E4%B8%93%E4%B8%9A%E2%80%9C%E6%95%99%E8%82%B2%E6%8A%80%E6%9C%AF%E5%AD%A6%E2%80%9D%E7%BB%8F%E8%B4%B9%E6%94%AF%E6%8C%81%EF%BC%88%E7%BC%96%E5%8F%B701990903000625%EF%BC%89%EF%BC%9A%E6%95%99%E8%82%B2%E6%A1%86%E6%9E%B6%E4%B8%8E%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E6%95%B0%E5%AD%97%E5%8C%96%E8%AE%A1%E7%AE%97%E6%80%9D%E7%BB%B4%E4%B8%8E%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%BB%9F%E4%B8%80%E7%9A%84%E8%A7%86%E8%A7%92%20.docx#_edn1" name="_ednref1" title=""><!--[if !supportFootnotes]--><sup><span style="font-size: 10pt;">[i]</span></sup><!--[endif]--></a>]</span></sup><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">。而且可以遵守规则自创方开发服务的</span><span style="font-size:10.0pt">DI</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">。本书涉及的主要的服务</span><span style="font-size:10.0pt">DI</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">如下。</span><span style="font-size:  10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  webHostBuilder.ConfigureServices(delegate (IServiceCollection  serviceCollection) <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.AddSignalR();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.Configure&lt;CookiePolicyOptions&gt;(<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  delegate (CookiePolicyOptions cookiePolicyOptions)<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  cookiePolicyOptions.CheckConsentNeeded = delegate (HttpContext  context) { return true; };<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  cookiePolicyOptions.MinimumSameSitePolicy = SameSiteMode.None;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  );<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.AddLogging();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;serviceCollection.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  String sLocalDatabasePathDefault = "Filename=" +  HostingEnvironment.WebRootPath +  Configuration.GetConnectionString("PartPathOfLocalDatabaseDefault");&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.AddDbContext&lt;BroweringOfTextbookDbContext&gt;(delegate  (DbContextOptionsBuilder dbContextOptionsBuilder) {  dbContextOptionsBuilder.UseSqlite(sLocalDatabasePathDefault); });//SQLite</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">嵌入式数据库连接</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  String sLocalDatabasePathOfAdmin = "Filename=" +  HostingEnvironment.WebRootPath + Configuration.GetConnectionString("PartPathOfLocalDatabaseOfAdmin");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.AddDbContext&lt;AdminDbContext&gt;(delegate  (DbContextOptionsBuilder dbContextOptionsBuilder) {  dbContextOptionsBuilder.UseSqlite(sLocalDatabasePathOfAdmin); });//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">试验</span><span style="font-size:  10.0pt">SQLite<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.Configure&lt;FormOptions&gt;(x =&gt;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  { <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  x.ValueLengthLimit = Int32.MaxValue;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  x.MultipartBodyLengthLimit = Int32.MaxValue;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  x.MultipartHeadersLengthLimit = int.MaxValue;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  x.MemoryBufferThreshold = int.MaxValue;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //Indentity</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">所需的</span><span style="font-size:10.0pt">SQL</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">数据库</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.AddDbContext&lt;IdentityDemo.Data.IdentityApplicationDbContext&gt;(delegate  (DbContextOptionsBuilder dbContextOptionsBuilder) {  dbContextOptionsBuilder.UseSqlServer(Configuration.GetConnectionString("IdentityApplicationDbContext"));  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.AddIdentity&lt;IdentityDemo.Models.ApplicationIdentityUser,  IdentityRole&gt;()<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  .AddEntityFrameworkStores&lt;IdentityDemo.Data.IdentityApplicationDbContext&gt;()<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;.AddDefaultTokenProviders();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.Configure&lt;IdentityOptions&gt;(options =&gt;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // Password settings<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Password.RequireDigit = true;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Password.RequiredLength = 8;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Password.RequireNonAlphanumeric = false;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Password.RequireUppercase = true;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Password.RequireLowercase = false;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Password.RequiredUniqueChars = 6;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // Lockout settings<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Lockout.DefaultLockoutTimeSpan = TimeSpan.FromMinutes(30);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Lockout.MaxFailedAccessAttempts = 10;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Lockout.AllowedForNewUsers = true;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // User settings<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.User.RequireUniqueEmail = true;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.ConfigureApplicationCookie(options =&gt;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // Cookie settings<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Cookie.HttpOnly = true;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.Cookie.Expiration = TimeSpan.FromDays(150);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // If the LoginPath isn't set, ASP.NET Core defaults <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // the path to /Account/Login.<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.LoginPath = "/Account/Login";<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // If the AccessDeniedPath isn't set, ASP.NET Core defaults <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // the path to /Account/AccessDenied.<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.AccessDeniedPath = "/Account/AccessDenied";<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  options.SlidingExpiration = true;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // Add application services.<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  serviceCollection.AddTransient&lt;IEmailSender, EmailSender&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  using (IServiceScope serviceScope =  serviceCollection.BuildServiceProvider().CreateScope())<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  IServiceProvider serviceProvider = serviceScope.ServiceProvider;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  try<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// MovieDbContext dBContext =  services.GetRequiredService&lt;MovieDbContext&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  BroweringOfTextbookDbContext broweringOfTextbookDbContext =  serviceProvider.GetRequiredService&lt;BroweringOfTextbookDbContext&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;broweringOfTextbookDbContext.Database.EnsureCreated();//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">连接</span><span style="font-size:  10.0pt">SQLite</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">、</span><span style="font-size:10.0pt">SQL Server Express</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">都可通过。创建数据库，也创建了数据库表。但无迁移功能。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  BroweringOfTextbookSeedData.Initialize(serviceProvider);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AdminDbContext  adminDBContext = serviceProvider.GetRequiredService&lt;AdminDbContext&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; adminDBContext.Database.EnsureCreated();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  AdminSeedData.Initialize(serviceProvider);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  catch (Exception ex)<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var logger =  serviceProvider.GetRequiredService&lt;ILogger&lt;Program&gt;&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logger.LogError(ex,  "An error occurred seeding the DB.");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;finally<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //*******************<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">//</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">初创方</span><span style="font-size:10.0pt">ASP.NET</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">内置了众多万维网</span><span style="font-size:10.0pt">HTTP</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">服务中间件以供配置使用</span><sup><span style="font-size:10.0pt">[<a href="file:///D:/Books/%E6%95%99%E8%82%B2%E6%A1%86%E6%9E%B6%E4%B8%8E%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E6%95%B0%E5%AD%97%E5%8C%96%E8%AE%A1%E7%AE%97%E6%80%9D%E7%BB%B4%E4%B8%8E%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%BB%9F%E4%B8%80%E7%9A%84%E8%A7%86%E8%A7%92/%E5%9B%BD%E5%AE%B6%E4%B8%80%E6%B5%81%E4%B8%93%E4%B8%9A%E2%80%9C%E6%95%99%E8%82%B2%E6%8A%80%E6%9C%AF%E5%AD%A6%E2%80%9D%E7%BB%8F%E8%B4%B9%E6%94%AF%E6%8C%81%EF%BC%88%E7%BC%96%E5%8F%B701990903000625%EF%BC%89%EF%BC%9A%E6%95%99%E8%82%B2%E6%A1%86%E6%9E%B6%E4%B8%8E%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E6%95%B0%E5%AD%97%E5%8C%96%E8%AE%A1%E7%AE%97%E6%80%9D%E7%BB%B4%E4%B8%8E%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%BB%9F%E4%B8%80%E7%9A%84%E8%A7%86%E8%A7%92%20.docx#_edn2" name="_ednref2" title=""><!--[if !supportFootnotes]--><sup><span style="font-size: 10pt;">[ii]</span></sup><!--[endif]--></a>]</span></sup><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">。当然也可遵守规则自创方开发</span><span style="font-size:10.0pt">HTTP</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">服务中间件。本书涉及的主要的万维网</span><span style="font-size:10.0pt">HTTP</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">服务中间件如下。</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  webHostBuilder.Configure(delegate (IApplicationBuilder  applicationBuilder) <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;{<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  if (HostingEnvironment.IsDevelopment())<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseDeveloperExceptionPage();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  else<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;applicationBuilder.UseExceptionHandler("/Home/Error");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseHsts();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseHttpsRedirection();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseStaticFiles();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseCookiePolicy();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // applicationBuilder.UseAuthentication();//</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">登录认证管道</span><span style="font-size:  10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseAuthentication();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseMvc(delegate (IRouteBuilder routeBuilder)<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">区域</span><span style="font-size:  10.0pt">Areas</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">的路由。必须在非区域</span><span style="font-size:10.0pt">Areas</span><span lang="ZH-CN" style="font-size:10.0pt;  font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">的路由前面定义吗？</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  routeBuilder.MapRoute(<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  name: "defaultWithArea",<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  template: "{area:exists}/{controller=Home}/{action=Index}/{id?}");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">非区域</span><span style="font-size:  10.0pt">Areas</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:  宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">的路由</span><span style="font-size:10.0pt"><o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  routeBuilder.MapRoute(<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name:  "default",<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  template: "{controller=Home}/{action=Index}/{id?}");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  /**<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseEndpoints(endpoints =&gt;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  endpoints.MapHub&lt;ChatHub&gt;("/chat");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  **/<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  applicationBuilder.UseSignalR(routes =&gt;<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  routes.MapHub&lt;ChatHub&gt;("/chat");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  });<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  // Microsoft.AspNetCore.Hosting.IHostingEnvironment hostingEnvironment  =  applicationBuilder.ApplicationServices.GetRequiredService&lt;Microsoft.AspNetCore.Hosting.IHostingEnvironment&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Microsoft.Extensions.Configuration.IConfiguration configuration =  applicationBuilder.ApplicationServices.GetRequiredService&lt;IConfiguration&gt;();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //ILogger logger = LoggerFactory.CreateLogger("TryLog");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //logger.LogInformation("Logged in Configure");&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt"><o:p>&nbsp;</o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  IWebHost webHost = webHostBuilder.Build();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  webHost.Run();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  /**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if  (RuntimeInformation.IsOSPlatform(OSPlatform.Windows))<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  using (RegistryKey registryKeykey =  Registry.CurrentUser.OpenSubKey(@"SOFTWARE\jbhuang99"))<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  if (registryKeykey != null)<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  {<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Object obj =  registryKeykey.GetValue("Title");<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(obj.ToString());<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  else { Console.WriteLine("</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">您当前可能不是基于</span><span style="font-size:10.0pt">windows</span><span lang="ZH-CN" style="font-size:  10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:  &quot;Times New Roman&quot;">操作系统运行本软件</span><span style="font-size:10.0pt">!</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;  mso-hansi-font-family:&quot;Times New Roman&quot;">无法自动打开本软件默认的浏览器，将打开本机默认的浏览器作为界面运行本软件，或者，您可以自己手动打开想要的浏览器作为界面运行本软件！</span><span style="font-size:10.0pt">"); }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //System.Diagnostics.Process processTemp = new  System.Diagnostics.Process();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //processTemp.StartInfo.FileName = @"C:\Program  Files(x86)\Google\Chrome\Application\chrome.exe";<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  //processTemp.Start();<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp; **/<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></p>  <p class="MsoNormal" align="left" style="margin-left:20.0pt;text-align:left;  text-indent:-20.0pt;mso-char-indent-count:-2.0;layout-grid-mode:char"><span style="font-size:10.0pt">}<o:p></o:p></span></p>  </td> </tr></tbody></table></div><p class="MsoListParagraph" style="margin-top: 6pt; margin-bottom: 6pt; margin-left: 35.7pt; text-indent: -17.85pt; word-break: break-all;"><!--[if !supportLists]--><b><span style="font-size:11.0pt">二、<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></b><!--[endif]--><b><span style="font-size:11.0pt">Main<span lang="ZH-CN">方法启动之后的控制</span>C<o:p></o:p></span></b></p></a><p class="MsoNormal" align="center" style="margin-top:7.2pt;margin-right:35.4pt;margin-bottom:0cm;margin-left:1.0cm;margin-bottom:.0001pt;text-align:center;text-indent:0cm"><a name="_Toc145626053"></a><a name="_Toc146382316"><span lang="ZH-CN" style="mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:&quot;Times New Roman&quot;">表 </span></a><!--[if supportFields]><spanstyle='mso-bookmark:_Toc146382316'></span><span style='mso-element:field-begin'></span><spanstyle='mso-bookmark:_Toc146382316'><span style='mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:"Times New Roman"'><spanstyle='mso-spacerun:yes'> </span>STYLEREF 1 \s <span style='mso-element:field-separator'></span></span></span><![endif]--><span style="mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:&quot;Times New Roman&quot;">5</span><!--[if supportFields]><span style='mso-bookmark:_Toc146382316'></span><span style='mso-element:field-end'></span><![endif]--><span style="mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:&quot;Times New Roman&quot;">‑</span><!--[if supportFields]><spanstyle='mso-bookmark:_Toc146382316'></span><span style='mso-element:field-begin'></span><spanstyle='mso-bookmark:_Toc146382316'><span style='mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:"Times New Roman"'> SEQ <span lang=ZH-CN>表</span>\* ARABIC \s 1 <span style='mso-element:field-separator'></span></span></span><![endif]--><span style="mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:&quot;Times New Roman&quot;">10</span><!--[if supportFields]><span style='mso-bookmark:_Toc146382316'></span><span style='mso-element:field-end'></span><![endif]--><span style="mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:&quot;Times New Roman&quot;"> </span><!--[if supportFields]><spanstyle='mso-bookmark:_Toc146382316'></span><span style='mso-element:field-begin'></span><spanstyle='mso-bookmark:_Toc146382316'><span style='mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:"Times New Roman"'><spanstyle='mso-spacerun:yes'> </span>REF _Ref145000036 \h<spanstyle='mso-spacerun:yes'>  </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span></span><![endif]--><span style="mso-bidi-font-size:10.5pt;font-family:黑体;mso-hansi-font-family:&quot;Times New Roman&quot;"><span lang="ZH-CN">对象类型的架构（“互动</span>MVC<span lang="ZH-CN">架构的控制</span>C<span lang="ZH-CN">”）：</span>Kestrel<span lang="ZH-CN">万维网服务器宿主的</span>.Net<span lang="ZH-CN">平台</span>ASP.Net MVC<span lang="ZH-CN">子平台</span>C#<span lang="ZH-CN">语言为例</span></span></p></div><div align="center"><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none"> <tbody><tr style="height:7.25pt">  <td width="576" colspan="3" valign="top" style="width:432.35pt;border:solid windowtext 1.0pt;  background:#E7E6E6;padding:0cm 5.4pt 0cm 5.4pt;height:7.25pt">  <p class="MsoNormal" align="center" style="margin-top:6.0pt;text-align:center;  text-indent:0cm;layout-grid-mode:char;word-break:break-all"><!--[if supportFields]><span style='font-size:10.0pt;font-family:"Times New Roman",serif;mso-fareast-font-family:宋体;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA'><span style='mso-element:field-begin'></span><spanstyle='mso-spacerun:yes'> </span>REF _Ref88050340 \h<spanstyle='mso-spacerun:yes'>  </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">表</span><span lang="ZH-CN" style="font-size: 10pt;"> </span><span style="font-size: 10pt;">3‑7<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F00520065006600380038003000350030003300340030000000</w:data></xml><![endif]--></span><!--[if supportFields]><span style='font-size:10.0pt;font-family:"Times New Roman",serif;mso-fareast-font-family:宋体;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA'><span style='mso-element:field-end'></span></span><![endif]--><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">所示“教育数字思维的本质框架”、</span><!--[if supportFields]><spanstyle='font-size:10.5pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:"Times New Roman";mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA'><spanstyle='mso-element:field-begin'></span> REF _Ref94046136 \h<spanstyle='mso-spacerun:yes'>  </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span style="font-size:10.5pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA"><span lang="ZH-CN">案例 </span>5‑1<!--[if gte mso 9]><xml> <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000D0000005F00520065006600390034003000340036003100330036000000</w:data></xml><![endif]--></span><!--[if supportFields]><span style='font-size:10.5pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:"Times New Roman";mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA'><span style='mso-element:field-end'></span></span><![endif]--><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">所示</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">“教育软件框架与案例”</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">中</span><span style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">,<span lang="ZH-CN">涉及“客户端</span>MVC(<span lang="ZH-CN">架构</span>/<span lang="ZH-CN">模式</span>/<span lang="ZH-CN">关系</span>/<span lang="ZH-CN">结构</span>)<span lang="ZH-CN">、互动</span>MVC(<span lang="ZH-CN">架构</span>/<span lang="ZH-CN">模式</span>/<span lang="ZH-CN">关系</span>/<span lang="ZH-CN">结构</span>)<span lang="ZH-CN">、服务端</span>MVC(<span lang="ZH-CN">架构</span>/<span lang="ZH-CN">模式</span>/<span lang="ZH-CN">关系</span>/<span lang="ZH-CN">结构</span>)<span lang="ZH-CN">”。</span></span><span lang="ZH-CN" style="font-size:10.5pt;mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">“对象类型的架构”是“对象类型的模式”的进一步抽象，一切架构都可以看做是</span><span style="font-size: 10.5pt;">MVC</span><span lang="ZH-CN" style="font-size:10.5pt;mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">架构的变换。</span><span lang="ZH-CN" style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">在此探究“互动</span><span style="font-size:10.0pt;font-family:宋体;mso-ascii-theme-font:minor-fareast;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-fareast;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">MVC<span lang="ZH-CN">架构的控制</span>C<span lang="ZH-CN">”。</span></span></p>  </td> </tr> <tr style="height:7.25pt">  <td width="59" valign="top" style="width:44.4pt;border:solid windowtext 1.0pt;  border-top:none;background:#E7E6E6;padding:0cm 5.4pt 0cm 5.4pt;height:7.25pt">  <p class="MsoNormal" style="margin-top:7.2pt;text-indent:0cm;word-break:break-all"><span style="font-family:黑体;color:black">对象类型的架构（“客户端<span lang="EN-US">MVC</span>架构的视图<span lang="EN-US">V</span>”）：<span lang="EN-US">Word</span>客户端宿主的<span lang="EN-US">.Net</span>平台<span lang="EN-US">VSTO.Net</span>子平台<span lang="EN-US">C#</span>语言为例</span></p>  </td>  <td width="458" valign="top" style="width:343.6pt;border-top:none;border-left:  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;  background:#E7E6E6;padding:0cm 5.4pt 0cm 5.4pt;height:7.25pt">  <p class="MsoNormal" align="center" style="margin-top:7.2pt;text-align:center;  text-indent:0cm;word-break:break-all"><span style="font-family:黑体;color:black">对象类型的架构（“互动<span lang="EN-US">MVC</span>架构的控制<span lang="EN-US">C</span>”）：<span lang="EN-US">Web</span>服务器宿主的<span lang="EN-US">.Net</span>平台<span lang="EN-US">ASP.Net MVC</span>子平台<span lang="EN-US">C#</span>语言为例</span></p>  <p class="MsoNormal" align="left" style="margin-top:7.2pt;text-align:left;  text-indent:0cm;word-break:break-all"><span style="font-family:宋体;color:black">本</span><span lang="EN-US" style="color:black">5.8</span><span style="font-family:宋体;color:black">节教育数字思维地阐述“互动</span><span lang="EN-US" style="color:black">MVC</span><span style="font-family:宋体;  color:black">架构的控制</span><span lang="EN-US" style="color:black">C</span><span style="font-family:宋体;color:black">”</span><sup><span lang="EN-US" style="color:black">[</span></sup><a href="#_edn1" name="_ednref1" title=""><span class="MsoEndnoteReference"><span lang="EN-US" style="color:black"><span class="MsoEndnoteReference"><span lang="EN-US" style="font-size:10.5pt;  font-family:&quot;Times New Roman&quot;,serif;color:black">[1]</span></span></span></span></a><sup><span lang="EN-US" style="color:black">]</span></sup><span lang="EN-US" style="color:black"> </span><span style="font-family:宋体;color:black">。</span></p>  </td>  <td width="59" valign="top" style="width:44.35pt;border-top:none;border-left:  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;  background:#E7E6E6;padding:0cm 5.4pt 0cm 5.4pt;height:7.25pt">  <p class="MsoNormal" style="margin-top:7.2pt;text-indent:0cm;word-break:break-all"><span style="font-family:黑体;color:black">对象类型的架构（“服务端<span lang="EN-US">MVC</span>架构的模型<span lang="EN-US">M</span>”）：<span lang="EN-US">Web</span>服务器宿主的<span lang="EN-US">.Net</span>平台<span lang="EN-US">ASP.Net MVC</span>子平台<span lang="EN-US">C#</span>语言为例</span></p>  </td> </tr> <tr style="height:29.4pt">  <td width="59" valign="top" style="width:44.4pt;border:solid windowtext 1.0pt;  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:29.4pt">  <p class="MsoNormal" style="margin-top:7.2pt;text-indent:0cm;word-break:break-all"><span lang="EN-US">5.7</span><span style="font-family:宋体">节教育数字思维地阐述“客户端</span><span lang="EN-US">MVC</span><span style="font-family:宋体">架构的视图</span><span lang="EN-US">V</span><span style="font-family:宋体">”。</span></p>  </td>  <td width="458" valign="top" style="width:343.6pt;border-top:none;border-left:  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;  padding:0cm 5.4pt 0cm 5.4pt;height:29.4pt">  <p class="MsoNormal" align="left" style="margin-top:7.2pt;text-align:left;  text-indent:0cm;word-break:break-all"><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:宋体">的案例之一如下</span><span lang="EN-US" style="font-family:宋体">(</span><span style="font-family:宋体">该示例对应示例项目的</span><span lang="EN-US">Controlls/Samples/TryController.cs</span><span style="font-family:  宋体">文件）。</span></p>  <div align="center">  <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">   <tbody><tr style="height:21.1pt">    <td width="559" valign="top" style="width:419.05pt;border-top:dashed windowtext 1.0pt;    border-left:none;border-bottom:dashed windowtext 1.0pt;border-right:none;    padding:0cm 5.4pt 0cm 5.4pt;height:21.1pt">    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">public class TryControllerController:Controller</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">{</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; public ViewResult TryView()</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; {</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EDSS.Models.TryModel tryModel = new    EDSS.Models.TryModel();</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tryModel.LearnerId = "000010";</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tryModel.Name = "jbhuang99";</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return    this.View("~/Views/Samples/TryController/tryView.cshtml",    tryModel);</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; }</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; public ContentResult TryContent()</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; {</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return this.Content("</span><span style="font-size:9.0pt;font-family:宋体">这是返回字符串到浏览器端的示例（而不返回视图</span><span lang="EN-US" style="font-size:9.0pt">V</span><span style="font-size:9.0pt;    font-family:宋体">），浏览器端将打开一个自已默认的界面呈现所返回的字符串</span><span lang="EN-US" style="font-size:9.0pt">");</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; }</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; public FilePathResult TryFile()</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; {</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return    this.File(@"c:\NTDETECT.COM", "application/com",    "NTDETECT.COM");</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; }</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; public RedirectResult TryRedirect()</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; {</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return this.Redirect("Try.html");</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; }</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; public ContentResult TryStringFromModel()</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; {</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EDSS.Models.TryModel tryModel=new    EDSS.Models.TryModel();</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tryModel.LearnerId = "000010";</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tryModel.Name= "jbhuang99";</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return this.Content("</span><span style="font-size:9.0pt;font-family:宋体">这是返回取值于模型</span><span lang="EN-US" style="font-size:9.0pt">M</span><span style="font-size:9.0pt;font-family:    宋体">的属性的字符串到浏览器端的示例</span><span lang="EN-US" style="font-size:9.0pt">:"    + tryModel.LearnerId + ";" + tryModel.Name);</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;&nbsp;&nbsp; }</span></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">}</span></p>    </td>   </tr>  </tbody></table>  </div>  <p class="MsoNormal" style="margin-top:7.2pt"><b>上述案例阐述</b><span style="font-family:宋体">如下。</span></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:42.0pt;margin-bottom:.0001pt;text-indent:-21.0pt"><b><span lang="EN-US">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span></b><b><span style="font-family:宋体">控制</span><span lang="EN-US">C</span></b><b><span style="font-family:宋体">的定义</span></b></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:0cm;margin-bottom:.0001pt;text-indent:21.3pt"><span lang="EN-US" style="font-family:Wingdings">l</span><span lang="EN-US"> </span><span style="font-family:宋体">“</span><i><span lang="EN-US">public class  TryControllerController:Controller</span></i><span style="font-family:宋体">”代码部分所示，控制</span><span lang="EN-US">C</span><span style="font-family:宋体">本质上是自定义的类，是必须</span><span style="font-family:宋体">继承扩展自</span><span lang="EN-US">.Net</span><span style="font-family:宋体">内置的</span><span lang="EN-US" style="font-family:黑体">System.Web.Mvc.Controller</span><span style="font-family:宋体">类的类</span><span style="font-family:宋体">。控制</span><span lang="EN-US">C</span><span style="font-family:宋体">的名称必须使用“</span><span lang="EN-US">Controller</span><span style="font-family:宋体">”作为后缀。但</span><span lang="EN-US">URL</span><span style="font-family:宋体">路由时，</span><span lang="EN-US">URL</span><span style="font-family:宋体">字符串的控制器部分将自动加上“</span><span lang="EN-US">Controller</span><span style="font-family:宋体">”后缀，而不需要事先包含。例如，</span><span lang="EN-US">URL</span><span style="font-family:宋体">字符串“</span><span lang="EN-US">http://localhost:21138/TryController/TryView</span><span style="font-family:宋体">”路由后访问的是服务器端名称为</span><span lang="EN-US">TryControllerController</span><span style="font-family:宋体">（而不是</span><span lang="EN-US">TryController</span><span style="font-family:宋体">）的控制</span><span lang="EN-US">C</span><span style="font-family:宋体">的</span><span lang="EN-US">TryView()</span><span style="font-family:宋体">方法，传递给此方法的参数为空。</span></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:0cm;margin-bottom:.0001pt;text-indent:21.3pt"><span lang="EN-US" style="font-family:Wingdings">l</span><span style="font-size:10.0pt;  font-family:宋体">代码</span><span style="font-size:10.0pt;font-family:宋体">“<i><span lang="EN-US">return this.Content("</span>这是返回字符串到浏览器端的示例（而不返回视图<span lang="EN-US">V</span>），浏览器端将打开一个自已默认的界面呈现所返回的字符串<span lang="EN-US">");</span></i>”</span><span style="font-size:10.0pt;font-family:宋体">所示</span><span style="font-size:10.0pt;  font-family:宋体">，</span><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:宋体">可通过内置的</span><span lang="EN-US">Content()</span><span style="font-family:宋体">方法返回字符串给浏览器端（而不返回视图</span><span lang="EN-US">V</span><span style="font-family:宋体">）</span><span style="font-size:10.0pt;font-family:宋体">，</span><span style="font-family:  宋体">浏览器端将打开一个自已默认的界面呈现所返回的字符串（运行</span><span lang="EN-US">EDSS</span><span style="font-family:宋体">解决方案，浏览器地址栏中键入</span><span lang="EN-US">http://localhost:21138/TryController/TryContent</span><span style="font-family:宋体">，将运行该控制器方法如</span><span style="font-family:黑体">图 <span lang="EN-US">5</span><span lang="EN-US">‑25</span></span><span style="font-size:10.0pt;font-family:宋体">所示</span><span style="font-size:10.0pt;  font-family:宋体">）</span><span style="font-size:10.0pt;font-family:宋体">。</span></p>  <p class="MsoNormal" align="center" style="margin-top:7.2pt;text-align:center"><span lang="EN-US" style="font-family:黑体"><img width="259" height="118" id="Picture 26" src="1694092823310.files/image001.jpg"></span><span lang="EN-US" style="font-family:黑体">&nbsp;</span></p>  <p class="MsoNormal" align="center" style="margin-top:7.2pt;text-align:center"><a name="_Toc386143117"></a><a name="_Toc145626136"></a><a name="_Ref384035496"><span style="font-family:黑体">图 </span></a><span lang="EN-US" style="font-family:黑体">5</span><span lang="EN-US" style="font-family:  黑体">‑</span><span lang="EN-US" style="font-family:黑体">25</span><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:黑体">的运行结果示例：<span lang="EN-US">Content()</span>方法</span><span style="font-size:9.0pt;font-family:宋体">返回字符串</span></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:0cm;margin-bottom:.0001pt;text-indent:21.3pt"><span lang="EN-US" style="font-family:Wingdings">l</span><span style="font-size:10.0pt;  font-family:宋体">代码</span><span style="font-size:10.0pt;font-family:宋体">“<i><span lang="EN-US">return this.File(@"c:\NTDETECT.COM",  "application/com", "NTDETECT.COM");</span></i>”</span><span style="font-size:10.0pt;font-family:宋体">所示</span><span style="font-size:10.0pt;  font-family:宋体">，</span><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:宋体">可通过内置的</span><span lang="EN-US">File()</span><span style="font-family:宋体">方法返回服务器端的一个现有文件给浏览器端（而不返回视图</span><span lang="EN-US">V</span><span style="font-family:宋体">），浏览器端将打开一个自已默认的界面呈现所返回的文件（运行</span><span lang="EN-US">EDSS</span><span style="font-family:宋体">解决方案，浏览器地址栏中键入</span><span lang="EN-US">http://localhost:21138/TryController/TryFile</span><span style="font-family:宋体">，将运行该控制器方法如</span><span style="font-family:黑体">图 <span lang="EN-US">5</span><span lang="EN-US">‑26</span></span><span style="font-size:10.0pt;font-family:宋体">所示</span><span style="font-size:10.0pt;  font-family:宋体">）。</span></p>  <p class="MsoNormal" align="center" style="margin-top:7.2pt;text-align:center"><span lang="EN-US" style="font-family:黑体"><img width="359" height="153" id="Picture 20" src="1694092823310.files/image002.jpg"></span><span lang="EN-US" style="font-family:黑体">&nbsp; </span></p>  <p class="MsoNormal" align="center" style="margin-top:7.2pt;text-align:center"><a name="_Toc386143118"></a><a name="_Toc145626137"></a><a name="_Ref384036217"><span style="font-family:黑体">图 </span></a><span lang="EN-US" style="font-family:黑体">5</span><span lang="EN-US" style="font-family:  黑体">‑</span><span lang="EN-US" style="font-family:黑体">26</span><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:黑体">的运行结果示例：<span lang="EN-US">File()</span>方法</span><span style="font-size:9.0pt;font-family:宋体">返回文件</span></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:0cm;margin-bottom:.0001pt;text-indent:21.3pt"><span lang="EN-US" style="font-family:Wingdings">l</span><span style="font-size:10.0pt;  font-family:宋体">代码</span><span style="font-size:10.0pt;font-family:宋体">“<i><span lang="EN-US">return this.Redirect("Try.html");</span></i>”</span><span style="font-size:10.0pt;font-family:宋体">所示</span><span style="font-size:10.0pt;  font-family:宋体">，</span><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:宋体">可通过内置的</span><span lang="EN-US">Redirect()</span><span style="font-family:宋体">方法重定向到其它</span><span lang="EN-US">URL</span><span style="font-family:宋体">（而不返回视图</span><span lang="EN-US">V</span><span style="font-family:宋体">），所转向的</span><span lang="EN-US">URL</span><span style="font-family:宋体">将根据自身的具体情形而返回相应的结果给浏览器端（运行</span><span lang="EN-US">EDSS</span><span style="font-family:宋体">解决方案，浏览器地址栏中键入</span><span lang="EN-US">http://localhost:21138/trycontroller/TryRedirect</span><span style="font-family:宋体">，将运行该控制器方法如</span><span style="font-family:黑体">图 <span lang="EN-US">5</span><span lang="EN-US">‑27</span></span><span style="font-size:10.0pt;font-family:宋体">所示</span><span style="font-size:10.0pt;  font-family:宋体">，</span><span style="font-size:10.0pt;font-family:宋体">即所转向的</span><span lang="EN-US" style="font-size:10.0pt;font-family:宋体">URL</span><span style="font-size:10.0pt;font-family:宋体">“<span lang="EN-US">http://localhost:21138/Try.HTML</span>”的结果）</span><span style="font-family:宋体">。</span></p>  <p class="MsoNormal" align="center" style="margin-top:7.2pt;text-align:center"><span lang="EN-US" style="font-family:黑体"><img width="320" height="138" id="Picture 4" src="1694092823310.files/image003.jpg"></span></p>  <p class="MsoNormal" align="center" style="margin-top:7.2pt;text-align:center"><a name="_Toc386143119"></a><a name="_Toc145626138"></a><a name="_Ref384037329"><span style="font-family:黑体">图 </span></a><span lang="EN-US" style="font-family:黑体">5</span><span lang="EN-US" style="font-family:  黑体">‑</span><span lang="EN-US" style="font-family:黑体">27</span><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:黑体">的运行结果示例：</span><span lang="EN-US">Redirect </span><span style="font-family:宋体">方法</span><span style="font-family:黑体">重定向到其它<span lang="EN-US">URL</span></span></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:0cm;margin-bottom:.0001pt;text-indent:21.3pt"><span lang="EN-US" style="font-family:Wingdings">l</span><span style="font-family:  宋体">控制</span><span lang="EN-US">C</span><span style="font-family:宋体">还可接受浏览器端发送的数据、文件。</span></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:42.0pt;margin-bottom:.0001pt;text-indent:-21.0pt"><b><span lang="EN-US">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span></b><b><span style="font-family:宋体">控制</span><span lang="EN-US">C</span></b><b><span style="font-family:宋体">的对象化运行</span></b></p>  <p class="MsoNormal" style="margin-top:7.2pt"><span style="font-family:宋体">上述控制</span><span lang="EN-US">C</span><span style="font-family:宋体">定义后，还需对象化运行，控制</span><span lang="EN-US">C</span><span style="font-family:宋体">不会显式地对象化运行，而是当浏览器端发出的</span><span lang="EN-US">URL</span><span style="font-family:宋体">被路由到服务器端的控制</span><span lang="EN-US">C</span><span style="font-family:宋体">时，该控制</span><span lang="EN-US">C</span><span style="font-family:宋体">就被隐式地对象化运行。例如，运行</span><span lang="EN-US">EDSS</span><span style="font-family:宋体">解决方案，浏览器地址栏中键入</span><span lang="EN-US">http://localhost:21138/TryController/TryRedirect</span><span style="font-family:宋体">，将对象化</span><span lang="EN-US">TryController</span><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:宋体">，并运行其</span><span lang="EN-US">TryRedirect</span><span style="font-family:宋体">方法，运行结果如</span><span style="font-family:宋体">图</span> <span lang="EN-US">5‑27</span><span style="font-family:宋体">所示。</span></p>  <p class="MsoNormal" style="margin-top:7.2pt;margin-right:0cm;margin-bottom:  0cm;margin-left:42.0pt;margin-bottom:.0001pt;text-indent:-21.0pt"><b><span lang="EN-US">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span></b><b><span style="font-family:宋体">控制</span><span lang="EN-US">C</span></b><b><span style="font-family:宋体">：视图</span><span lang="EN-US">V</span></b><b><span style="font-family:宋体">请求模型状态、视图</span><span lang="EN-US">V</span></b><b><span style="font-family:宋体">请求模型绑定、视图</span><span lang="EN-US">V</span></b><b><span style="font-family:宋体">请求模型验证</span></b></p>  <p class="MsoNormal" style="margin-top:7.2pt"><span style="font-family:宋体">控制</span><span lang="EN-US">C</span><span style="font-family:宋体">对象实例运行之前，默认会自动返回一个模型状态（</span><span lang="EN-US">ControllerBase.ModelState.IsValid</span><span style="font-family:  宋体">）。模型状态</span><span lang="EN-US">ControllerBase.ModelState</span><span style="font-family:宋体">包含两个子系统的错误：模型绑定（</span><a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-7.0）（https://learn.microsoft.com/en-us/aspnet/core/mvc/advanced/custom-model-binding?view=aspnetcore-7.0"><span lang="EN-US">https://learn.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-7.0</span><span style="font-family:宋体">）（</span><span lang="EN-US">https://learn.microsoft.com/en-us/aspnet/core/mvc/advanced/custom-model-binding?view=aspnetcore-7.0</span></a><span style="font-family:宋体">）、模型验证（</span><a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/models/validation?view=aspnetcore-7.0"><span lang="EN-US">https://learn.microsoft.com/en-us/aspnet/core/mvc/models/validation?view=aspnetcore-7.0</span></a><span style="font-family:宋体">）。</span> </p>  </td>  <td width="59" valign="top" style="width:44.35pt;border-top:none;border-left:  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;  padding:0cm 5.4pt 0cm 5.4pt;height:29.4pt">  <p class="MsoNormal" style="margin-top:7.2pt;text-indent:0cm;word-break:break-all"><span lang="EN-US">5.9</span><span style="font-family:宋体">节教育数字思维地阐述“服务端</span><span lang="EN-US">MVC</span><span style="font-family:宋体">架构的模型</span><span lang="EN-US">M</span><span style="font-family:宋体">”。</span></p>  </td> </tr></tbody></table></div><p class="MsoNormal" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:0cm;layout-grid-mode:char;word-break:break-all"><span style="font-family:黑体">案例 <span lang="EN-US">5‑1</span></span><span style="font-size:10.0pt;font-family:宋体">所示，本书中“互动<span lang="EN-US">MVC</span>选用第四平台语言<span lang="EN-US">.Net</span>平台<span lang="EN-US">C#</span>语言”，映射“<span lang="EN-US"> </span>互动<span lang="EN-US">MVC</span>的第四平台语言应用层<span lang="EN-US">HTTP</span>语言”（见</span><span style="font-size:10.0pt;font-family:黑体">表 <span lang="EN-US">5‑12</span></span><span style="font-size:10.0pt;font-family:宋体">），映射“互动<span lang="EN-US">MVC</span>的<span lang="EN-US">URL</span>”（见</span><span style="font-size:10.0pt;font-family:黑体">表 <span lang="EN-US">5‑13</span></span><span style="font-size:10.0pt;font-family:宋体">）。</span></p><p class="MsoNormal" align="center" style="margin-top:0cm;margin-right:14.15pt;margin-bottom:0cm;margin-left:35.45pt;margin-bottom:.0001pt;text-align:center;text-indent:0cm;layout-grid-mode:char;word-break:break-all"><a name="_Toc145626097"></a><a name="_Ref145625496"><span style="font-size:10.0pt;font-family:黑体">表 </span></a><span lang="EN-US" style="font-size:10.0pt;font-family:黑体">5</span><span lang="EN-US" style="font-size:10.0pt;font-family:黑体">‑</span><span lang="EN-US" style="font-size:10.0pt;font-family:黑体">12</span><span lang="EN-US" style="font-size:10.0pt;font-family:黑体"> </span><span style="font-size:10.0pt;font-family:黑体">互动<span lang="EN-US">MVC</span>的四个平台语言</span></p><div align="center"><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none"> <tbody><tr>  <td width="604" valign="top" style="width:453.1pt;border:solid windowtext 1.0pt;  padding:0cm 5.4pt 0cm 5.4pt">  <p class="MsoNormal" style="margin-bottom:3.0pt;text-indent:0cm;layout-grid-mode:  char"><b><span lang="EN-US" style="font-size:9.0pt;color:#C00000">&nbsp;</span></b><b><span style="font-size:9.0pt;font-family:宋体;color:#C00000">“教育开始时间、教育中途时间、教育结束时间”</span></b><span style="font-size:9.0pt;font-family:宋体;color:#C00000">中的“客户端</span><span lang="EN-US" style="font-size:9.0pt;color:#C00000">MVC</span><span style="font-size:9.0pt;font-family:宋体;color:#C00000">选用的四个平台语言、互动</span><span lang="EN-US" style="font-size:9.0pt;color:#C00000">MVC</span><span style="font-size:9.0pt;font-family:宋体;color:#C00000">选用的四个平台语言、服务端</span><span lang="EN-US" style="font-size:9.0pt;color:#C00000">MVC</span><span style="font-size:9.0pt;font-family:宋体;color:#C00000">选用的四个平台语言”的<b>需求</b>：</span></p>  </td> </tr> <tr>  <td width="604" valign="top" style="width:453.1pt;border:solid windowtext 1.0pt;  border-top:none;padding:0cm 5.4pt 0cm 5.4pt">  <div align="center">  <table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="588" style="border-collapse:collapse;border:none">   <tbody><tr>    <td width="16" valign="top" style="width:11.8pt;border:none;border-bottom:dashed windowtext 1.0pt;    background:white;padding:0cm 5.4pt 0cm 5.4pt">    <p class="MsoNormal"><span lang="EN-US" style="font-size:9.0pt">&nbsp;</span></p>    </td>    <td width="553" valign="top" style="width:414.9pt;border-top:dashed windowtext 1.0pt;    border-left:none;border-bottom:dashed windowtext 1.0pt;border-right:none;    background:white;padding:0cm 5.4pt 0cm 5.4pt">    <p class="MsoNormal" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:    6.0pt;margin-left:0cm;text-indent:0cm;layout-grid-mode:char;background:    #E7E6E6;word-break:break-all"><b><span lang="EN-US" style="font-size:9.0pt;    font-family:宋体;color:#00B050">(</span></b><b><span style="font-size:9.0pt;    font-family:宋体;color:#00B050">三</span></b><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">)</span><b><span style="font-size:9.0pt;font-family:宋体;color:#00B050">、</span></b><span style="font-size:9.0pt;font-family:宋体;color:#00B050">“客户端<span lang="EN-US">MVC</span>、互动<span lang="EN-US">MVC</span>、服务端<span lang="EN-US">MVC</span>”的“<b>视图<span lang="EN-US">V</span></b>”</span><span style="font-size:9.0pt;font-family:    宋体;color:black">（一个平台的五个种类）</span></p>    <p class="MsoNormal" style="margin-top:6.0pt;margin-right:0cm;margin-bottom:    6.0pt;margin-left:0cm;text-indent:0cm;layout-grid-mode:char;background:    #E7E6E6;word-break:break-all"><b><span lang="EN-US" style="font-size:9.0pt;    font-family:宋体;color:#00B050">(</span></b><b><span style="font-size:9.0pt;    font-family:宋体;color:#00B050">二</span></b><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">)</span><b><span style="font-size:9.0pt;font-family:宋体;color:#00B050">、</span></b><span style="font-size:9.0pt;font-family:宋体;color:#00B050">“客户端<span lang="EN-US">MVC</span>、互动<span lang="EN-US">MVC</span>、服务端<span lang="EN-US">MVC</span>”的<b>“控制<span lang="EN-US">C</span>”</b></span><span style="font-size:9.0pt;font-family:    宋体;color:black">（一个平台的二个种类）</span></p>    <p class="MsoNormal" style="margin-top:6.0pt;text-indent:0cm;layout-grid-mode:    char;background:#E7E6E6;word-break:break-all"><b><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:#00B050">(</span></b><span style="font-size:9.0pt;font-family:宋体;color:#00B050">一</span><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">)</span><span style="font-size:9.0pt;font-family:宋体;color:#00B050">、“客户端<span lang="EN-US">MVC</span>、互动<span lang="EN-US">MVC</span>、服务端<span lang="EN-US">MVC</span>”的<b>“模型<span lang="EN-US">M</span>”</b></span><span lang="EN-US" style="font-size:9.0pt;    font-family:宋体;color:black">(</span><span style="font-size:9.0pt;    font-family:宋体;color:black">五个平台<span lang="EN-US">)</span></span></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char;background:#E7E6E6;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体;color:#00B050;background:#D0CECE">（<span lang="EN-US">5</span>）、哲学智能建构</span></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char;background:#E7E6E6;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体;color:#00B050;background:#D0CECE">（<span lang="EN-US">4</span>）、人文情感交流</span></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char;background:#E7E6E6;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体;color:#00B050;background:#D0CECE">（<span lang="EN-US">3</span>）、科学规律探究</span></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char;background:#E7E6E6;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体;color:#00B050;background:#D0CECE">（<span lang="EN-US">2</span>）、技术信息运用</span></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char;background:#E7E6E6;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体;color:#00B050;background:#D0CECE">（<span lang="EN-US">1</span>）、实践数据读写</span></p>    <p class="MsoNormal" align="center" style="margin-top:0cm;margin-right:2.85pt;    margin-bottom:0cm;margin-left:27.15pt;margin-bottom:.0001pt;text-align:    center;layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt;    font-family:宋体;color:black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>    </td>    <td width="19" valign="top" style="width:14.2pt;border:none;border-bottom:dashed windowtext 1.0pt;    background:white;padding:0cm 5.4pt 0cm 5.4pt">    <p class="MsoNormal"><span lang="EN-US" style="font-size:9.0pt">&nbsp;</span></p>    </td>   </tr>  </tbody></table>  </div>  <p class="MsoNormal" align="center" style="margin-top:0cm;margin-right:14.2pt;  margin-bottom:6.0pt;margin-left:0cm;text-align:center;text-indent:0cm;  layout-grid-mode:char"></p>  </td> </tr> <tr>  <td width="604" valign="top" style="width:453.1pt;border:solid windowtext 1.0pt;  border-top:none;padding:0cm 5.4pt 0cm 5.4pt">  <p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:1.7pt;  margin-bottom:0cm;margin-left:0cm;margin-bottom:.0001pt;text-align:left;  text-indent:1.7pt;layout-grid-mode:char"><span style="font-size:9.0pt;  font-family:宋体;color:#00B050;background:#D9D9D9">四、“互动<span lang="EN-US">MVC</span>”可以选用的“四个平台语言的软件第二平台语言<span lang="EN-US">”</span>：【“计算机互联网的应用层的<span lang="EN-US">(Web)HTTP/HTTPS/WebSocket/WebRTC</span>等等协议源语言”】</span></p>  <div align="center">  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="557" style="background:white;border-collapse:collapse">   <tbody><tr style="height:16.5pt">    <td width="557" colspan="6" style="width:417.8pt;border:solid #E6E6E6 1.0pt;    background:#E7E6E6;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的案例（注：本书中需要深入）</span></b></p>    </td>   </tr>   <tr style="height:16.5pt">    <td width="267" colspan="4" style="width:200.15pt;border:solid #E6E6E6 1.0pt;    border-top:none;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">Web</span><span style="font-size:9.0pt;font-family:宋体;color:black">浏览器<span lang="EN-US">HTTP</span>请求的一个案例如下（协议默认是信号，没有保存成为文件，但是可以通过相应工具查看协议信号，例如，<span lang="EN-US">Web</span>浏览器<span lang="EN-US">Edge</span>等等的“开发者工具”菜单，可以查看<span lang="EN-US">HTTP</span>协议信号）：</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体">&nbsp;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">GET/sample.jsp HTTP/1.1</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">Accept:image/gif.image/jpeg.image</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">Accept-Language:zh-cn</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">Connection:Keep-Alive</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">Host:localhost</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">User-Agent:Mozila/4.0(compatible:MSIE5.01:Windows    NT5.0)</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">Accept-Encoding:gzip,deflate.</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体">&nbsp;</span></p>    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">userType=</span><span style="font-size:9.0pt;font-family:宋体;color:black">教师<span lang="EN-US">&amp;useerId=004601&amp;password=123456</span></span></p>    </td>    <td width="290" colspan="2" valign="top" style="width:217.65pt;border-top:none;    border-left:none;border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">Web</span><span style="font-size:9.0pt;font-family:宋体;color:black">服务器<span lang="EN-US">HTTP</span>响应的</span><span style="font-size:9.0pt;font-family:宋体;color:black;letter-spacing:.55pt">一个案例如下（协议默认是信号，没有保存成为文件，但是可以通过相应工具查看协议信号，例如，</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;    letter-spacing:.55pt">Web</span><span style="font-size:9.0pt;font-family:    宋体;color:black;letter-spacing:.55pt">浏览器</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">Edge</span><span style="font-size:9.0pt;font-family:宋体;color:black;    letter-spacing:.55pt">等等的“开发者工具”菜单，可以查看</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">HTTP</span><span style="font-size:9.0pt;font-family:宋体;color:black;    letter-spacing:.55pt">协议信号）：</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;letter-spacing:.55pt">&nbsp;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">HTTP/1.1 200 0K</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">Date: Tue</span><span style="font-size:9.0pt;font-family:宋体;    color:black;letter-spacing:.55pt">，</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt"> 10 Jul 2012 06:50:15 GMTContent-Length: 362 Content-Type: text/html</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;letter-spacing:.55pt">&nbsp;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;html&gt;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;title&gt;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;/title&gt;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;body&gt;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;p&gt;</span><span style="font-size:9.0pt;font-family:宋体;    color:black;letter-spacing:.55pt">教师</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">ID</span><span style="font-size:9.0pt;font-family:宋体;color:black;    letter-spacing:.55pt">：</span><span lang="EN-US" style="font-size:9.0pt;    font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:.55pt">000001</span><span style="font-size:9.0pt;font-family:宋体;color:black;letter-spacing:.55pt">，姓名：</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;    letter-spacing:.55pt">HJB</span><span style="font-size:9.0pt;font-family:    宋体;color:black;letter-spacing:.55pt">，您好，欢迎您！</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;/p&gt;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;/body&gt;</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Cambria&quot;,serif;color:black;letter-spacing:    .55pt">&lt;/html&gt;</span></p>    </td>   </tr>   <tr style="height:17.25pt">    <td width="557" colspan="6" style="width:417.8pt;border:solid #E6E6E6 1.0pt;    border-top:none;background:#E7E6E6;padding:1.5pt 7.5pt 1.5pt 7.5pt;    height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的语法</span></b></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:楷体;    color:black">注：在此<span lang="EN-US">HTTP/HTTPS/WebSocket/WebRTC</span>等等中的<span lang="EN-US">HTTP</span>为例。<span lang="EN-US">HTTPS/WebSocket/WebRTC</span>等等可参见相应标准。</span></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:楷体;    color:black">注：互动<span lang="EN-US">MVC</span>四个平台<span lang="EN-US">(</span>协议<span lang="EN-US">)</span>语言语法，互相之间存在封装拆装的关系，例如，四个层次<span lang="EN-US">{</span>以太局域网卡<span lang="EN-US">0/1</span>序列帧<span lang="EN-US">{IP</span>帧<span lang="EN-US">{TCP</span>帧<span lang="EN-US">{HTTP</span>帧数据<span lang="EN-US">}}}}</span>，那么，本层次即<span lang="EN-US">{HTTP</span>帧<span lang="EN-US">}</span></span><span style="font-size:9.0pt;font-family:宋体;color:black">。</span></p>    </td>   </tr>   <tr style="height:17.25pt">    <td width="77" style="width:57.75pt;border:solid #E6E6E6 1.0pt;border-top:    none;background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">帧长度</span></p>    </td>    <td width="66" style="width:49.6pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">帧类型</span></p>    </td>    <td width="66" style="width:49.65pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">帧标志<span class="MsoEndnoteReference"><span style="vertical-align:baseline"> </span></span></span></p>    </td>    <td width="113" colspan="2" style="width:3.0cm;border-top:none;border-left:    none;border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">R</span><span style="font-size:9.0pt;font-family:宋体;color:black">保留和流标识</span></p>    </td>    <td width="234" style="width:175.75pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">实际传输的数据帧负载</span></p>    </td>   </tr>   <tr style="height:16.5pt">    <td width="77" style="width:57.75pt;border:solid #E6E6E6 1.0pt;border-top:    none;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">3</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="66" style="width:49.6pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="66" style="width:49.65pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="113" colspan="2" style="width:3.0cm;border-top:none;border-left:    none;border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="234" style="width:175.75pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span><span style="font-size:9.0pt;font-family:宋体;color:black">的倍数</span></p>    </td>   </tr>   <tr style="height:16.5pt">    <td width="323" colspan="5" style="width:242.05pt;border:solid #E6E6E6 1.0pt;    border-top:none;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:宋体;color:black">上述对应<span lang="EN-US">“HTTP</span>协议的头部分<span lang="EN-US">”</span>。</span></p>    </td>    <td width="234" style="width:175.75pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体;color:black">上述对应<span lang="EN-US">“HTTP</span>协议的主体部分<span lang="EN-US">” </span></span></p>    </td>   </tr>   <tr height="0">    <td width="77" style="border:none"></td>    <td width="66" style="border:none"></td>    <td width="66" style="border:none"></td>    <td width="58" style="border:none"></td>    <td width="56" style="border:none"></td>    <td width="234" style="border:none"></td>   </tr>  </tbody></table>  </div>  <p class="MsoNormal" align="left" style="margin-left:18.0pt;text-align:left;  text-indent:-18.0pt;word-break:break-all"><span lang="EN-US" style="font-size:  9.0pt;font-family:楷体">HTTP</span><span style="font-size:9.0pt;font-family:  楷体">协议帧如下：</span></p>  <p class="MsoListParagraph" style="margin-left:21.3pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">帧长度<span lang="EN-US">Length : </span>代表整个<span lang="EN-US"> frame </span>的长度，用一个<span lang="EN-US"> 24 </span>位无符号整数表示。但是这不意味着就能处理<span lang="EN-US"> 2^24 16M</span>大小的帧，一般是默认只支持<span lang="EN-US">2^16 16k</span>以下的帧，而<span lang="EN-US">2^16 - 2^24 16M </span>的帧，需要接收端公布自己可以处理多大的帧，需要在<span lang="EN-US">  SETTINGS_MAX_FRAME_SIZE </span>帧中告知。</span></p>  <p class="MsoListParagraph" style="margin-left:21.3pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">帧类型<span lang="EN-US">Type : </span>定义<span lang="EN-US"> frame </span>的类型。帧类型决定了帧主体的格式和语义，如果<span lang="EN-US"> type </span>为<span lang="EN-US"> unknown </span>应该忽略或抛弃。</span></p>  <p class="MsoListParagraph" style="margin-left:21.3pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt"> </span><span style="font-size:9.0pt">帧标志<span lang="EN-US">Flags :</span>标志位由<span lang="EN-US"> 8 </span>个比特位来表示，可以保存<span lang="EN-US"> 8 </span>个标志位，携带控制信息。常用的标志位有<span lang="EN-US"> END_HEADERS </span>表示头数据结束，相当于<span lang="EN-US"> HTTP/1 </span>里头后的空行（“<span lang="EN-US">\r\n</span>”），<span lang="EN-US">END_STREAM </span>表示单方向数据发送结束（即<span lang="EN-US"> EOS</span>，<span lang="EN-US">End of Stream</span>），相当于<span lang="EN-US"> HTTP/1 </span>里<span lang="EN-US"> Chunked </span>分块结束标志（“<span lang="EN-US">0\r\n\r\n</span>”）。比如<span lang="EN-US"> 0x25 </span>转成二进制为 <span lang="EN-US">00100101</span>，有三个位置被置为<span lang="EN-US"> 1</span>。分别表示的是<span lang="EN-US"> PRIORITY </span>设置了流的优先级、<span lang="EN-US">END_HEADERS </span>这一个帧就是完整的头数据，<span lang="EN-US">END_STREAM </span>单方向数据发送结束，报文发送完毕。</span></p>  <p class="MsoListParagraph" style="margin-left:21.3pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt">R</span><span style="font-size:9.0pt">保留和流标识<span lang="EN-US"> : </span>是一个保留的比特位。这个比特的语义没有定义，发送时它必须被设置为<span lang="EN-US"> (0x0), </span>接收时需要忽略。流标识符由<span lang="EN-US"> 32 </span>个比特位表示，但最高位是保留位，所以最多可以使用<span lang="EN-US"> 31 </span>位。其上限为<span lang="EN-US"> 2^31</span>，大约是<span lang="EN-US"> 21 </span>亿。有了流标识符，接收方就可以基于乱序的帧，识别是相同流标识符的帧，并按序组合起来。</span></p>  <p class="MsoListParagraph" style="margin-left:21.3pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">实际传输的数据帧负载<span lang="EN-US">Frame  Payload : </span>是主体内容，由帧类型决定。<span lang="EN-US"> </span></span><span lang="EN-US" style="font-size:9.0pt">&nbsp; </span></p>  </td> </tr> <tr>  <td width="604" valign="top" style="width:453.1pt;border:solid windowtext 1.0pt;  border-top:none;padding:0cm 5.4pt 0cm 5.4pt">  <p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:1.7pt;  margin-bottom:0cm;margin-left:0cm;margin-bottom:.0001pt;text-align:left;  text-indent:1.7pt;layout-grid-mode:char"><span style="font-size:9.0pt;  font-family:宋体;color:#00B050;background:#D9D9D9">三、“互动<span lang="EN-US">MVC</span>”可以选用的“四个平台语言的软件第一平台语言<span lang="EN-US">”</span>： 【“计算机互联网的传输层的<span lang="EN-US">TCP/UDP</span>协议源语言”】</span></p>  <div align="center">  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="559" style="background:white;border-collapse:collapse">   <tbody><tr style="height:17.25pt">    <td width="559" colspan="11" style="width:419.2pt;border:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的案例（注：本书中无需深入）</span></b></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的语法</span></b></p>    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:楷体;color:black">注：在此<span lang="EN-US">TCP/UDP</span>中的<span lang="EN-US">TCP</span>为例。<span lang="EN-US">UDP</span>可参见相应标准。</span></p>    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:楷体;    color:black">注：互动<span lang="EN-US">MVC</span>四个平台<span lang="EN-US">(</span>协议<span lang="EN-US">)</span>语言语法，互相之间存在封装拆装的关系，例如，四个层次<span lang="EN-US">{</span>以太局域网卡<span lang="EN-US">0/1</span>序列帧<span lang="EN-US">{IP</span>帧<span lang="EN-US">{TCP</span>帧<span lang="EN-US">{HTTP</span>帧数据<span lang="EN-US">}}}}</span>，那么，本层次即<span lang="EN-US">{TCP</span>帧<span lang="EN-US">{HTTP</span>帧数据<span lang="EN-US">}}</span></span><span style="font-size:9.0pt;font-family:宋体;color:black">。</span></p>    </td>   </tr>   <tr style="height:17.25pt">    <td width="32" style="width:24.1pt;border:solid #E6E6E6 1.0pt;border-top:    none;background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">源端口号码</span></p>    </td>    <td width="32" style="width:24.1pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">目标端口号码</span></p>    </td>    <td width="37" style="width:27.4pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">序列号码</span></p>    </td>    <td width="37" style="width:27.75pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">确认应答号码</span></p>    </td>    <td width="38" style="width:28.55pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">数据偏移</span></p>    </td>    <td width="20" style="width:15.35pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">控制位</span></p>    </td>    <td width="79" style="width:59.2pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">窗口大小</span></p>    </td>    <td width="38" style="width:28.5pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">校验和</span></p>    </td>    <td width="66" style="width:49.6pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">紧急指针</span></p>    </td>    <td width="47" style="width:35.45pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">选项与填充</span></p>    </td>    <td width="132" style="width:99.2pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">数据负载</span></p>    </td>   </tr>   <tr style="height:16.5pt">    <td width="32" style="width:24.1pt;border:solid #E6E6E6 1.0pt;border-top:    none;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="32" style="width:24.1pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>    <td width="37" style="width:27.4pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>    <td width="37" style="width:27.75pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="38" style="width:28.55pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="20" style="width:15.35pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>    <td width="79" style="width:59.2pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>    <td width="38" style="width:28.5pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>    <td width="66" style="width:49.6pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>    <td width="47" style="width:35.45pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>    <td width="132" style="width:99.2pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span><span style="font-size:9.0pt;font-family:宋体;    color:black">的倍数（不定长度，为上一层协议例如<span lang="EN-US">HTTP</span>封装好的数据）</span></p>    </td>   </tr>  </tbody></table>  </div>  <p class="MsoNormal" align="left" style="margin-left:18.0pt;text-align:left;  text-indent:-18.0pt;word-break:break-all"><span lang="EN-US" style="font-size:  9.0pt">&nbsp;</span><span lang="EN-US" style="font-size:9.0pt;font-family:楷体">TCP</span><span style="font-size:9.0pt;font-family:楷体">协议帧如下：</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">源端口：<span lang="EN-US">2 </span>个字节，是一个大于<span lang="EN-US"> 1023 </span>的<span lang="EN-US"> 16 </span>位数字，由基于<span lang="EN-US">  TCP </span>应用程序的用户进程随机选择。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">目的端口：<span lang="EN-US">2 </span>个字节，指明接收者所用的端口号，一般由应用程序来指定。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">顺序号：<span lang="EN-US">4 </span>个字节，用来标识从<span lang="EN-US"> TCP </span>源端向<span lang="EN-US"> TCP </span>目的端发送的数据字节流，它表示在这个报文段中的第一个数据字节的顺序号。如果将字节流看作在两个应用程序间的单向流动，则<span lang="EN-US"> TCP </span>用顺序号对每个字节进行计数，序号是<span lang="EN-US"> 32 bit </span>的无符号数，序号达到<span lang="EN-US"> 2^32-1 </span>后又从<span lang="EN-US"> 0 </span>开始。比如我们收到一个数据报中<span lang="EN-US"> sq(</span>顺序号<span lang="EN-US">) =0</span>，数据报内容为<span lang="EN-US">  20 </span>字节，那么下一个数据报的<span lang="EN-US"> sq </span>就应该是<span lang="EN-US"> 21</span>。当建立一个新的连接时，<span lang="EN-US">SYN </span>标志变为<span lang="EN-US"> 1</span>，顺序号字段包含由这个主机选择的该连接的初始顺序号<span lang="EN-US"> ISN</span>。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">确认序号：<span lang="EN-US">4 </span>个字节，包含发送确认的一端所期待收到的下一个顺序号。因此，确认序号应该是上次已经成功收到数据字节顺序号加<span lang="EN-US"> 1 </span>。比如我们收到的一个数据报的<span lang="EN-US"> sq = 0 </span>，数据报内容为<span lang="EN-US"> 20 </span>字节，那么我们的<span lang="EN-US"> ack(</span>确认序号<span lang="EN-US">) </span>应该是<span lang="EN-US"> 21 </span>，用来表明<span lang="EN-US">  sq=0 </span>，内容为<span lang="EN-US"> 20 </span>字节的数据报已经收到，接下来期望收到的是<span lang="EN-US"> sq=21 </span>的数据报。只有<span lang="EN-US"> ACK </span>标志为<span lang="EN-US"> 1 </span>时确认序号字段才有效。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">报文长度：<span lang="EN-US">4 </span>位，给出报头中<span lang="EN-US"> 32 bit </span>字的数目，需要这个值是因为任选字段的长度是可变的，这个字段占<span lang="EN-US"> 4  bit</span>，即<span lang="EN-US"> TCP </span>最多有<span lang="EN-US"> 60 (15*4) </span>字节的首部。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">保留区：<span lang="EN-US">6 </span>位，保留给将来使用，目前必须置为<span lang="EN-US"> 0 </span>。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">控制位：<span lang="EN-US">6</span>位，控制位包括</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt">URG</span><span style="font-size:9.0pt">：为<span lang="EN-US"> 1 </span>表示紧急指针有效，为<span lang="EN-US"> 0 </span>则忽略紧急指针值。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt">ACK</span><span style="font-size:9.0pt">：为<span lang="EN-US"> 1 </span>表示确认号有效，为<span lang="EN-US"> 0 </span>表示报文中不包含确认信息，忽略确认号字段。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt">PSH</span><span style="font-size:9.0pt">：为<span lang="EN-US"> 1 </span>表示是带有<span lang="EN-US">  PUSH </span>标志的数据，表示发送端缓存中已经没有待发送的数据，指示接收方应该尽快将这个报文段交给应用层而不用等待缓冲区装满。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt">RST</span><span style="font-size:9.0pt">：用于复位由于主机崩溃或其他原因而出现错误的连接。它还可以用于拒绝非法的报文段和拒绝连接请求。一般情况下，如果收到一个<span lang="EN-US"> RST </span>为<span lang="EN-US"> 1 </span>的报文，那么一定发生了某些问题。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt">SYN</span><span style="font-size:9.0pt">：同步序号，为<span lang="EN-US"> 1 </span>表示连接请求，用于建立连接和使顺序号同步。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span lang="EN-US" style="font-size:9.0pt">FIN</span><span style="font-size:9.0pt">：用于释放连接，为<span lang="EN-US"> 1 </span>表示发送方已经没有数据发送了，即关闭本方数据流。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">窗口大小：<span lang="EN-US">2 </span>个字节，表示从确认号开始，本报文的源方可以接收的字节数，即源方接收窗口的大小。窗口大小是一个<span lang="EN-US"> 16 bit </span>字段，因而窗口大小最大为<span lang="EN-US">&nbsp; 2^16-1 </span>。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">校验和：<span lang="EN-US">2 </span>个字节，对整个的<span lang="EN-US"> TCP </span>报文段<span lang="EN-US">(</span>包括<span lang="EN-US"> TCP </span>头部和<span lang="EN-US"> TCP </span>数据以及伪报文头<span lang="EN-US">)</span>进行校验和计算。这是一个强制性的字段，要求发送方计算和存储，并由接收端进行验证<span lang="EN-US">(</span>接收端要与发送端数值结果完全一样，才能证明数据是有效的<span lang="EN-US">)</span>。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">紧急指针：<span lang="EN-US">2 </span>个字节，是一个正的偏移量，和顺序号字段中的值相加表示紧急数据最后一个字节的序号。<span lang="EN-US">TCP </span>的紧急方式是发送端向另一端发送紧急数据的一种方式，只有当<span lang="EN-US"> URG </span>标志置为<span lang="EN-US"> 1 </span>时紧急指针才有效。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">选项：<span lang="EN-US">n*4 </span>字节，常见的可选字段是最长报文大小<span lang="EN-US"> MSS(Maximum Segment Size)</span>。每个连接方通常都在通信的第一个报文段<span lang="EN-US"> (</span>为建立连接而设置<span lang="EN-US"> SYN </span>标志的那个段<span lang="EN-US">) </span>中指明这个选项，它指明本端所能接收的最大长度的报文段。选项长度不一定是<span lang="EN-US"> 32 </span>位的整数倍，所以需要添加填充位，使得报文长度为<span lang="EN-US"> 32 </span>位的整数倍。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt;  layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">数据负载：不定长度，是上层协议封装好的数据。<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>  </td> </tr> <tr>  <td width="604" valign="top" style="width:453.1pt;border:solid windowtext 1.0pt;  border-top:none;padding:0cm 5.4pt 0cm 5.4pt">  <p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:1.7pt;  margin-bottom:0cm;margin-left:0cm;margin-bottom:.0001pt;text-align:left;  text-indent:1.7pt;layout-grid-mode:char"><span style="font-size:9.0pt;  font-family:宋体;color:#00B050;background:#D9D9D9">二、“互动<span lang="EN-US">MVC</span>”可以选用的“四个平台语言的硬件第二平台语言<span lang="EN-US">”</span>：【“计算机互联网的路由器层的<span lang="EN-US">IP</span>协议源语言”】</span></p>  <div align="center">  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="568" style="background:white;border-collapse:collapse">   <tbody><tr style="height:17.25pt">    <td width="568" colspan="12" style="width:426.3pt;border:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的案例（注：本书中无需深入）</span></b></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的语法</span></b></p>    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:楷体;color:black">注：互动<span lang="EN-US">MVC</span>四个平台<span lang="EN-US">(</span>协议<span lang="EN-US">)</span>语言语法，互相之间存在封装拆装的关系，例如，四个层次<span lang="EN-US">{</span>以太局域网卡<span lang="EN-US">0/1</span>序列帧<span lang="EN-US">{IP</span>帧<span lang="EN-US">{TCP</span>帧<span lang="EN-US">{HTTP</span>帧数据<span lang="EN-US">}}}}</span>，那么，本层次即<span lang="EN-US">{IP</span>帧<span lang="EN-US">{TCP</span>帧<span lang="EN-US">{HTTP</span>帧数据<span lang="EN-US">}}}</span></span><span style="font-size:9.0pt;font-family:宋体;    color:black">。</span></p>    </td>   </tr>   <tr style="height:17.25pt">    <td width="46" style="width:34.4pt;border:solid #E6E6E6 1.0pt;border-top:    none;background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">版本和<span lang="EN-US">IHL</span>头部长度</span></p>    </td>    <td width="21" style="width:16.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">TOS</span><span style="font-size:9.0pt;font-family:宋体;color:black">区分服务</span></p>    </td>    <td width="21" style="width:16.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">总长度</span></p>    </td>    <td width="35" style="width:26.5pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">标识</span></p>    </td>    <td width="36" style="width:27.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">标志和分片偏移</span></p>    </td>    <td width="57" style="width:43.1pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">生存时间</span></p>    </td>    <td width="19" style="width:14.2pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">协议</span></p>    </td>    <td width="47" style="width:35.45pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">头部校验和</span></p>    </td>    <td width="47" style="width:35.4pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">源地址</span></p>    </td>    <td width="66" style="width:49.65pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">目标地址</span></p>    </td>    <td width="38" style="width:1.0cm;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;color:black">可选项与填充</span></p>    </td>    <td width="134" style="width:100.25pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:.75pt .75pt .75pt .75pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:black">数据帧负载</span></p>    <p class="MsoNormal" style="text-indent:0cm;layout-grid-mode:char;word-break:    break-all"><span style="font-size:9.0pt;font-family:宋体;color:black">（例如，上一层次<span lang="EN-US">TCP</span>协议的<span lang="EN-US">TCP</span>数据段的帧）</span></p>    </td>   </tr>   <tr style="height:16.5pt">    <td width="46" style="width:34.4pt;border:solid #E6E6E6 1.0pt;border-top:    none;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="21" style="width:16.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="21" style="width:16.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="35" style="width:26.5pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="36" style="width:27.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="57" style="width:43.1pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="19" style="width:14.2pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="47" style="width:35.45pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="47" style="width:35.4pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="66" style="width:49.65pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="38" style="width:1.0cm;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="134" style="width:100.25pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:.75pt .75pt .75pt .75pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span><span style="font-size:9.0pt;font-family:宋体;    color:black">的倍数</span></p>    </td>   </tr>  </tbody></table>  </div>  <p class="MsoNormal" align="left" style="margin-left:18.0pt;text-align:left;  text-indent:-18.0pt;word-break:break-all"><span lang="EN-US" style="font-size:  9.0pt;font-family:楷体">IP</span><span style="font-size:9.0pt;font-family:楷体">协议帧如下：</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">版本和<span lang="EN-US">IHL</span>头部长度</span><span style="font-size:9.0pt">：<span lang="EN-US">4 </span>位，用来表明<span lang="EN-US"> IP  </span>协议实现的版本号，当前一般为<span lang="EN-US"> IPv4</span>，即<span lang="EN-US"> 0100</span>，<span lang="EN-US">IPv6 </span>的为<span lang="EN-US"> 0110</span>，这个字段确保可能运行不同<span lang="EN-US"> IP </span>版本的设备之间的兼容性。首部长度：即报头长度，<span lang="EN-US">4 </span>位，以<span lang="EN-US"> 32 bit </span>的字来定义<span lang="EN-US"> IP </span>首部的长度，包括可选项。若该字段的最小值是<span lang="EN-US"> 5 (</span>标准头部长度<span lang="EN-US">)</span>，即<span lang="EN-US">  5*32=160 </span>比特<span lang="EN-US"> =20 </span>字节，此字段最大值为<span lang="EN-US">15  (</span>有扩展部分<span lang="EN-US">)</span>，即<span lang="EN-US">15*32 =480 </span>比特<span lang="EN-US"> = 60 </span>字节。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">服务类型：<span lang="EN-US">8</span>位，用于携带提供服务质量特征信息的字段，服务类型字段声明了数据报被网络系统传输时可以被怎样处理。其中前<span lang="EN-US"> 3 </span>位优先权子字段<span lang="EN-US">(Precedence</span>，现已被忽略，各种终端都不采用<span lang="EN-US">)</span>。第<span lang="EN-US"> 8 </span>比特保留未用。第<span lang="EN-US"> 4 </span>至第<span lang="EN-US"> 7 </span>比特分别代表延迟、吞吐量、可靠性和花费，当它们取值为<span lang="EN-US"> 1 </span>时分别代表要求最小时延、最大吞吐量、最高可靠性和最小花费，这<span lang="EN-US"> 4 </span>比特的服务类型中只能置其中<span lang="EN-US"> 1 </span>比特为<span lang="EN-US"> 1</span>，可以全为<span lang="EN-US"> 0 </span>，若全为<span lang="EN-US"> 0 </span>则表示一般服务，大多数情况下该服务类型会被忽略。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">总长度：<span lang="EN-US">16 </span>位，指明整个数据报的长度，按字节计算，最大长度为<span lang="EN-US"> 2^16 </span>字节。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">标识：<span lang="EN-US">16 </span>位，用来唯一标识主机发送的每一份数据报，<span lang="EN-US">IP </span>软件会在存储器中维持一个计数器，每产生一个数据段，计数器就加<span lang="EN-US"> 1</span>，并将此值赋给标志字段。但这个“标识”并不是序号，因为<span lang="EN-US"> IP </span>是无连接服务，数据报不存在按序接收问题，如数据报由于超过网络的<span lang="EN-US"> MTU (</span>最大传送单元<span lang="EN-US">) </span>而必须分片时，这个标志字段的值就会被复制到所有的数据报的标识字段中，相同的标识字段的值使分片后各数据报片能正确的重新组装成为原来的数据报。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">标志：<span lang="EN-US">3 </span>位，分别是<span lang="EN-US">  RF</span>、<span lang="EN-US">DF</span>、<span lang="EN-US"> MF</span>，目前只有<span lang="EN-US"> DF</span>，<span lang="EN-US">MF </span>有效，<span lang="EN-US">DF(don't  fragment)</span>，置为<span lang="EN-US"> 0 </span>时表示可以分段，置为<span lang="EN-US"> 1 </span>时是不能被分段，<span lang="EN-US">MF(more fragment)</span>，置为<span lang="EN-US"> 0 </span>时表示该数据段为最后一个数据段，置为<span lang="EN-US"> 1 </span>时表示后面还有被分割分段。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">段偏移量：<span lang="EN-US">13 </span>位，指出较长的分组在分段后，某段在原分组的相对位置。也就是说相对用户字段的起点，该片从何处开始。段偏移以<span lang="EN-US"> 8 </span>个字节<span lang="EN-US">(</span>有<span lang="EN-US"> 3 </span>位被<span lang="EN-US"> flags </span>占据<span lang="EN-US">)</span>为偏移单位，这就是每个分片的长度一定是<span lang="EN-US"> 8 </span>字节<span lang="EN-US"> (64</span>位<span lang="EN-US">) </span>的整数倍。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">生存期：<span lang="EN-US">8 </span>位，用来设置数据报最多可以经过的路由器数，由发送数据的源主机设置，通常为<span lang="EN-US"> 32</span>、<span lang="EN-US">64</span>、<span lang="EN-US">128</span>等，每经过一个路由器，其值减<span lang="EN-US"> 1 </span>，直到<span lang="EN-US"> 0 </span>该数据报被丢弃。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">协议：<span lang="EN-US">8 </span>位，指明<span lang="EN-US"> ip  </span>数据字段中的数据采用上层什么协议封装的，常见的有<span lang="EN-US"> ICMP(1)</span>、<span lang="EN-US">IGMP(2)</span>、<span lang="EN-US">TCP(6)</span>、<span lang="EN-US">UDP(17)</span></span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">首部校验和：<span lang="EN-US">16</span>位，填充根据<span lang="EN-US"> ip </span>头部计算得到的校验和码。计算方法是：对头部中每个<span lang="EN-US"> 16 </span>比特进行二进制反码求和，但不含涉及头部后的数据字段。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">源<span lang="EN-US"> IP </span>地址：源<span lang="EN-US"> ip  </span>地址，<span lang="EN-US">32 </span>位。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">目的<span lang="EN-US"> IP </span>地址：目标<span lang="EN-US">  ip </span>地址，<span lang="EN-US">32 </span>位。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">选项：<span lang="EN-US">n*32 </span>位，用来定义一些可选项：如记录路径、时间戳等，但这些选项很少被使用，同时并不是所有主机和路由器都支持这些选项。可选字段的长度必须是<span lang="EN-US"> 32 </span>比特的整数倍，如果不足，必须填充<span lang="EN-US"> 0 </span>以达到此长度要求，根据<span lang="EN-US"> IHL(</span>首部长度<span lang="EN-US">) </span>可以得到选项的长度。</span></p>  <p class="MsoListParagraph" style="margin-left:35.7pt;text-indent:-17.85pt;  layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt;font-family:  Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span><span style="font-size:9.0pt">数据帧负载：不定长度，但受限于数据报的最大长度<span lang="EN-US"> 2^16 </span>，这是在数据报中要传输的数据，它是上一层次协议的报文或报文的一个分片。<span lang="EN-US">&nbsp;  </span></span></p>  </td> </tr> <tr>  <td width="604" valign="top" style="width:453.1pt;border:solid windowtext 1.0pt;  border-top:none;padding:0cm 5.4pt 0cm 5.4pt">  <p class="MsoNormal" align="left" style="margin-top:6.0pt;margin-right:1.7pt;  margin-bottom:0cm;margin-left:0cm;margin-bottom:.0001pt;text-align:left;  text-indent:1.7pt;layout-grid-mode:char"><span style="font-size:9.0pt;  font-family:宋体;color:#00B050;background:#D9D9D9">一、“互动<span lang="EN-US">MVC</span>”可以选用的“四个平台语言的硬件第一平台语言<span lang="EN-US">”</span>：【“计算机局域网卡<span lang="EN-US">/</span>电缆<span lang="EN-US">/</span>光纤<span lang="EN-US">/</span>无线电波<span lang="EN-US">/</span>中继器<span lang="EN-US">/</span>集线器<span lang="EN-US">/</span>交换机的媒介链路层的<span lang="EN-US">IEEE 802</span>系列<span lang="EN-US">0/1</span>的二进制的数字语言的协议终点语言”】</span></p>  <div align="center">  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="586" style="background:white;border-collapse:collapse">   <tbody><tr style="height:17.25pt">    <td width="586" colspan="8" style="width:439.45pt;border:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的案例（注：本书中无需深入）</span></b></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><b><span style="font-size:9.0pt;font-family:宋体;color:black">本平台语言的语法</span></b></p>    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:楷体;color:black">注：在此广播式总线型拓扑结构的以太网局域网为例。星型拓扑结构、环型拓扑结构的局域网可参见相应标准。</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:楷体;color:black">注：互动<span lang="EN-US">MVC</span>四个平台<span lang="EN-US">(</span>协议<span lang="EN-US">)</span>语言语法，互相之间存在封装拆装的关系，例如，四个层次<span lang="EN-US">{</span>以太局域网卡<span lang="EN-US">0/1</span>序列帧<span lang="EN-US">{IP</span>帧<span lang="EN-US">{TCP</span>帧<span lang="EN-US">{HTTP</span>帧数据<span lang="EN-US">}}}}</span>，那么，本层次即<span lang="EN-US">{</span>以太局域网卡<span lang="EN-US">0/1</span>序列帧<span lang="EN-US">{IP</span>帧<span lang="EN-US">{TCP</span>帧<span lang="EN-US">{HTTP</span>帧数据<span lang="EN-US">}}}}</span></span><span style="font-size:9.0pt;font-family:宋体;color:black">。</span></p>    </td>   </tr>   <tr style="height:17.25pt">    <td width="135" style="width:100.95pt;border:solid #E6E6E6 1.0pt;border-top:    none;background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:宋体;color:black">前同步码</span></p>    </td>    <td width="32" style="width:24.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:宋体;color:black">帧起始符</span></p>    </td>    <td width="33" style="width:24.8pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体;color:black">目标<span lang="EN-US">MAC</span>地址</span></p>    </td>    <td width="38" style="width:28.7pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:宋体;color:black">源<span lang="EN-US">MAC</span>地址</span></p>    </td>    <td width="65" style="width:48.4pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span class="MsoHyperlink"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">802.1Q</span></span><span style="font-size:9.0pt;    font-family:宋体;color:black">标签<span lang="EN-US"> (</span>可选<span lang="EN-US">)</span></span></p>    </td>    <td width="76" style="width:2.0cm;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:宋体;color:black">以太类型</span></p>    </td>    <td width="85" style="width:63.8pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span style="font-size:9.0pt;font-family:宋体;color:black">数据帧负载</span></p>    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:宋体;color:black">（例如，上一层次<span lang="EN-US">IP</span>协议的<span lang="EN-US">IP</span>包的帧）</span></p>    </td>    <td width="123" style="width:92.1pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    background:#F8F8F8;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:17.25pt">    <p class="MsoNormal" style="text-indent:0cm"><span style="font-size:9.0pt;    font-family:宋体;color:black">帧校验序列<span lang="EN-US">FCS</span></span></p>    </td>   </tr>   <tr style="height:16.5pt">    <td width="135" style="width:100.95pt;border:solid #E6E6E6 1.0pt;border-top:    none;padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">7</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="32" style="width:24.0pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">1</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="33" style="width:24.8pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">6</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="38" style="width:28.7pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">6</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="65" style="width:48.4pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">(4</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节<span lang="EN-US">)</span></span></p>    </td>    <td width="76" style="width:2.0cm;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">2</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节</span></p>    </td>    <td width="85" style="width:63.8pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" style="text-indent:0cm;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:black">46</span><span style="font-size:9.0pt;font-family:宋体;color:black">字节<span lang="EN-US">–1500</span>字节</span></p>    </td>    <td width="123" style="width:92.1pt;border-top:none;border-left:none;    border-bottom:solid #E6E6E6 1.0pt;border-right:solid #E6E6E6 1.0pt;    padding:1.5pt 7.5pt 1.5pt 7.5pt;height:16.5pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:    宋体;color:black">4</span><span style="font-size:9.0pt;font-family:宋体;    color:black">字节</span></p>    </td>   </tr>  </tbody></table>  </div>  <p class="MsoNormal" align="center" style="margin-top:0cm;margin-right:14.2pt;  margin-bottom:6.0pt;margin-left:0cm;text-align:center;text-indent:0cm;  layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">&nbsp;</span></p>  <p class="MsoNormal" align="left" style="margin-left:18.0pt;text-align:left;  text-indent:-18.0pt;word-break:break-all"><span style="font-size:9.0pt;  font-family:楷体">以太局域网卡<span lang="EN-US">0/1</span>序列帧如下：</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">前同步码。 用来使接收端的适配器在接收<span lang="EN-US"> MAC </span>帧时能够迅速调整时钟频率，使它和发送端的频率相同。<span lang="EN-US">1 </span>和<span lang="EN-US"> 0 </span>交替。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">帧起始符。前<span lang="EN-US"> 6 </span>位<span lang="EN-US"> 1  </span>和<span lang="EN-US"> 0 </span>交替，最后的两个连续的<span lang="EN-US"> 1 </span>表示告诉接收端“帧信息要来了，准备接收”。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">目标<span lang="EN-US">MAC</span>地址。接收帧的网络适配器的物理地址（<span lang="EN-US">MAC </span>地址）。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">源<span lang="EN-US">MAC</span>地址。发送帧的网络适配器的物理地址（<span lang="EN-US">MAC </span>地址）。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="EN-US" style="font-size:9.0pt">802.1Q</span><span style="font-size:9.0pt">标签<span lang="EN-US"> (</span>可选<span lang="EN-US">)</span>。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">上层协议的类型。由于上层协议众多，所以在处理数据的时候必须设置该字段，标识数据交付哪个协议处理。例如，字段为<span lang="EN-US"> 0x0800 </span>时，表示将数据交付给<span lang="EN-US"> IP </span>协议。<span lang="EN-US">.</span></span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">数据负载。也称为效载荷，表示交付给上层的数据。以太网帧数据长度最小为<span lang="EN-US">  46 </span>字节，最大为<span lang="EN-US"> 1500 </span>字节。如果不足<span lang="EN-US"> 46 </span>字节时，会填充到最小长度。最大值也叫最大传输单元（<span lang="EN-US">MTU</span>）。</span></p>  <p class="MsoListParagraph" style="margin-left:36.0pt;text-indent:-18.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9.0pt">帧校验序列<span lang="EN-US">FCS</span>。俗称帧尾<span lang="EN-US">,</span>即计算机网络数据链路层的协议数据单元<span lang="EN-US">(</span>帧<span lang="EN-US">)</span>的尾部字段<span lang="EN-US">,</span>是一段<span lang="EN-US">4</span>个字节的循环冗余校验码。检测该帧是否出现差错。发送方计算帧的循环冗余码校验（<span lang="EN-US">CRC</span>）值，把这个值写到帧里。接收方计算机重新计算<span lang="EN-US"> CRC</span>，与<span lang="EN-US"> FCS </span>字段的值进行比较。如果两个值不相同，则表示传输过程中发生了数据丢失或改变。这时，就需要重新传输。<span lang="EN-US">&nbsp;&nbsp;&nbsp; </span></span></p>  </td> </tr></tbody></table></div><p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US" style="font-size:9.0pt">&nbsp;</span></p><p class="MsoNormal" align="center" style="margin-top:0cm;margin-right:14.15pt;margin-bottom:0cm;margin-left:35.45pt;margin-bottom:.0001pt;text-align:center;text-indent:0cm;layout-grid-mode:char;word-break:break-all"><a name="_Toc145626098"></a><a name="_Ref145625498"><span style="font-size:10.0pt;font-family:黑体">表 </span></a><span lang="EN-US" style="font-size:10.0pt;font-family:黑体">5</span><span lang="EN-US" style="font-size:10.0pt;font-family:黑体">‑</span><span lang="EN-US" style="font-size:10.0pt;font-family:黑体">13</span><span lang="EN-US" style="font-size:10.0pt;font-family:黑体"> </span><span style="font-size:10.0pt;font-family:黑体">互动<span lang="EN-US">MVC</span>的<span lang="EN-US">URL</span></span></p><div align="center"><table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="94%" style="border-collapse:collapse;border:none"> <tbody><tr>  <td width="27%" style="width:27.62%;border:solid windowtext 1.0pt;padding:  6.0pt 6.0pt 6.0pt 6.0pt">  <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;  layout-grid-mode:char;word-break:break-all"><b><span style="font-size:9.0pt;  font-family:宋体">“客户端<span lang="EN-US">MVC</span>”</span></b></p>  <p class="MsoNormal" align="center" style="margin-top:6.0pt;text-align:center;  text-indent:0cm;layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt">(</span><span style="font-size:9.0pt;font-family:  宋体">例如，他创方的</span><span lang="EN-US" style="font-size:9.0pt">Web</span><span style="font-size:9.0pt;font-family:宋体">浏览器的地址栏请求</span><span lang="EN-US" style="font-size:9.0pt">URL)</span></p>  </td>  <td width="37%" style="width:37.5%;border:solid windowtext 1.0pt;border-left:  none;padding:.75pt .75pt .75pt .75pt">  <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;  layout-grid-mode:char;word-break:break-all"><b><span style="font-size:9.0pt;  font-family:宋体">“互动<span lang="EN-US">MVC</span>”</span></b></p>  <p class="MsoNormal" align="left" style="margin-top:6.0pt;text-align:left;  text-indent:0cm;layout-grid-mode:char;word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:#00B050">&nbsp;</span></p>  </td>  <td width="34%" style="width:34.88%;border:solid windowtext 1.0pt;border-left:  none;padding:.75pt .75pt .75pt .75pt">  <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;  layout-grid-mode:char;word-break:break-all"><b><span style="font-size:9.0pt;  font-family:宋体">“服</span></b><b><span style="font-size:9.0pt;font-family:  宋体">务</span></b><b><span style="font-size:9.0pt;font-family:宋体">端<span lang="EN-US">MVC</span>”</span></b></p>  <p class="MsoNormal" align="center" style="margin-top:6.0pt;text-align:center;  text-indent:0cm;layout-grid-mode:char;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体">（例如，他创方的</span><span lang="EN-US" style="font-size:9.0pt">Web</span><span style="font-size:9.0pt;font-family:  宋体">服务器的控制</span><span lang="EN-US" style="font-size:9.0pt">C</span><span style="font-size:9.0pt;font-family:宋体">响应</span><span lang="EN-US" style="font-size:9.0pt">URL</span><span style="font-size:9.0pt;font-family:  宋体">请求）</span></p>  </td> </tr> <tr>  <td width="100%" colspan="3" style="width:100.0%;border:solid windowtext 1.0pt;  border-top:none;background:white;padding:6.0pt 6.0pt 6.0pt 6.0pt">  <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;  layout-grid-mode:char;word-break:break-all"><b><span style="font-size:9.0pt;  font-family:宋体;color:black">“计算机网络<span lang="EN-US">URL</span>”的案例（注：“客户端<span lang="EN-US">MVC</span>”、“服务端<span lang="EN-US">MVC</span>”选用第四平台语言<span lang="EN-US">.Net</span>平台<span lang="EN-US">C#</span>语言的案例，映射“计算机网络<span lang="EN-US">URL</span>”的案例）</span></b><span style="font-size:9.0pt;font-family:  宋体;color:#00B050">：“<span lang="EN-US">https://jbhuang99.github.io/WebEdu_LocalVersion_YuQin_DotNetCore2.1/wwwroot/webCourse/options/logo.html?name=hjb&amp;gender=male#Introduction</span>”</span></p>  <p class="MsoNormal" align="left" style="text-align:left;text-indent:0cm;  layout-grid-mode:char;word-break:break-all"><b><span style="font-size:9.0pt;  font-family:宋体;color:black">“计算机网络<span lang="EN-US">URL</span>”的语法</span></b><b><span style="font-size:9.0pt;font-family:宋体;color:black">（注：“客户端<span lang="EN-US">MVC</span>”、“服务端<span lang="EN-US">MVC</span>”平台语言映射而来）</span></b><span style="font-size:9.0pt;  font-family:宋体;color:black">：</span><span style="font-size:9.0pt;font-family:  宋体;color:#00B050">“协议名称<span lang="EN-US">://</span>服务端<span lang="EN-US">IP</span>地址或服务端域名<span lang="EN-US">:</span>端口编号<span lang="EN-US">/</span>目录路径名称<span lang="EN-US">/</span>文件名称<span lang="EN-US">?</span>发送的数据名称<span lang="EN-US">=</span>发送的数据值<span lang="EN-US">&amp;</span>发送的数据名称<span lang="EN-US">=</span>发送的数据值<span lang="EN-US">&amp;…#</span>文件中的书签<span lang="EN-US">”</span></span></p>  <div align="center">  <table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">   <tbody><tr>    <td width="598" valign="top" style="width:448.65pt;border:dashed windowtext 1.0pt;    padding:0cm 5.4pt 0cm 5.4pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><b><span style="font-size:9.0pt;font-family:宋体">四、互联网应用层协议中的</span></b><b><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">URL</span></b><b><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">中的“协议名称”</span></b></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:#4F4F4F">例如，“<span lang="EN-US">HTTP</span>”<span lang="EN-US">(</span>此协议时即<span lang="EN-US">Web</span>网络<span lang="EN-US">)</span>、“<span lang="EN-US">HTTPS</span>”<span lang="EN-US">(</span>此协议时即必须使用安全相关证书的<span lang="EN-US">Web</span>网络<span lang="EN-US">)</span>、“<span lang="EN-US">FTP</span>”<span lang="EN-US">(</span>此协议时即文件上传下载的网络<span lang="EN-US">)</span>、“<span lang="EN-US">MailTo</span>”<span lang="EN-US">(</span>此协议时即电子邮件的网络<span lang="EN-US">)</span>、“<span lang="EN-US">File</span>”<span lang="EN-US">(</span>此协议时即本机文件浏览的网络<span lang="EN-US">)</span>，等等。</span></p>    </td>   </tr>   <tr>    <td width="598" valign="top" style="width:448.65pt;border:dashed windowtext 1.0pt;    border-top:none;padding:0cm 5.4pt 0cm 5.4pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><b><span style="font-size:9.0pt;font-family:宋体">三、互联网应用层协议中的<span lang="EN-US">URL</span>中的“服务端<span lang="EN-US">IP</span>地址或服务端域名”</span></b></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char;word-break:break-all"><span style="font-size:9.0pt;    font-family:宋体;color:#4F4F4F">例如“<span lang="EN-US">www.jxnu.edu.cn</span>”或“<span lang="EN-US">192.168.0.1</span>”。</span><span lang="EN-US" style="font-size:    9.0pt">IP</span><span style="font-size:9.0pt;font-family:宋体">地址是</span><span lang="EN-US" style="font-size:9.0pt">0.0.0.0</span><span style="font-size:    9.0pt;font-family:宋体">～</span><span lang="EN-US" style="font-size:9.0pt">255.255.255.255</span><span style="font-size:9.0pt;font-family:宋体">范围表示的网络地址，其中专门保留了三个</span><span lang="EN-US" style="font-size:9.0pt">IP</span><span style="font-size:9.0pt;    font-family:宋体">地址段用于局域网</span><span lang="EN-US" style="font-size:9.0pt">/</span><span style="font-size:9.0pt;font-family:宋体">私网（分别是：适合小型局域网的</span><span lang="EN-US" style="font-size:9.0pt">192.168.0.0</span><span style="font-size:9.0pt;font-family:宋体">～</span><span lang="EN-US" style="font-size:9.0pt">192.168.255.255</span><span style="font-size:9.0pt;    font-family:宋体">；适合中型局域网的</span><span lang="EN-US" style="font-size:9.0pt">172.16.0.0</span><span style="font-size:9.0pt;font-family:宋体">～</span><span lang="EN-US" style="font-size:9.0pt">172.31.255.255</span><span style="font-size:9.0pt;    font-family:宋体">；适合大型局域网的</span><span lang="EN-US" style="font-size:9.0pt">10.0.0.0</span><span style="font-size:9.0pt;font-family:宋体">～</span><span lang="EN-US" style="font-size:9.0pt">10.255.255.255</span><span style="font-size:9.0pt;    font-family:宋体">），其他</span><span lang="EN-US" style="font-size:9.0pt">IP</span><span style="font-size:9.0pt;font-family:宋体">用于互联网</span><span lang="EN-US" style="font-size:9.0pt">/</span><span style="font-size:9.0pt;font-family:    宋体">公网。</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">计算机</span><span style="font-size:9.0pt;font-family:宋体">在局域网</span><span lang="EN-US" style="font-size:9.0pt">/</span><span style="font-size:9.0pt;font-family:    宋体">私网中的</span><span lang="EN-US" style="font-size:9.0pt">IP,</span><span style="font-size:9.0pt;font-family:宋体">将被自动转换为互联网</span><span lang="EN-US" style="font-size:9.0pt">/</span><span style="font-size:9.0pt;font-family:    宋体">公网中的</span><span lang="EN-US" style="font-size:9.0pt">IP</span><span style="font-size:9.0pt;font-family:宋体">而连接互联网</span><span lang="EN-US" style="font-size:9.0pt">/</span><span style="font-size:9.0pt;font-family:    宋体">公网</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">。<span lang="EN-US">32</span>位的<span lang="EN-US">IP</span>地址数量已经不够使用，正在兼容升级成为<span lang="EN-US">128</span>位的<span lang="EN-US">IP</span>地址数量。</span></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:.6pt;    layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">↕</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">映射</span></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:#4F4F4F">“</span><span style="font-size:9.0pt;font-family:宋体">服务端网卡线路的</span><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">MAC</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">地址”</span><span style="font-size:9.0pt;font-family:宋体">（例如，</span><span lang="EN-US" style="font-size:9.0pt">00-FF-6A-CB-0C-2C, Mac</span><span style="font-size:9.0pt;font-family:宋体">地址是</span><span lang="EN-US" style="font-size:9.0pt">48</span><span style="font-size:9.0pt;font-family:    宋体">位</span><span lang="EN-US" style="font-size:9.0pt">0/1</span><span style="font-size:9.0pt;font-family:宋体">线性结构序列数</span><span lang="EN-US" style="font-size:9.0pt">,</span><span style="font-size:9.0pt;font-family:    宋体">重复的</span><span lang="EN-US" style="font-size:9.0pt">Mac</span><span style="font-size:9.0pt;font-family:宋体">地址只要不在一个局域网内就能正常使用，所以意味着可能回收使用也不一定会在同一局域网中碰巧重复，所以</span><span lang="EN-US" style="font-size:9.0pt">Mac</span><span style="font-size:9.0pt;    font-family:宋体">地址永远都不用担心用尽）</span></p>    </td>   </tr>   <tr>    <td width="598" valign="top" style="width:448.65pt;border:dashed windowtext 1.0pt;    border-top:none;padding:0cm 5.4pt 0cm 5.4pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><b><span style="font-size:9.0pt;font-family:宋体">二、互联网应用层协议中的<span lang="EN-US">URL</span>中的“端口编号”</span></b></p>    <p class="MsoNormal" style="layout-grid-mode:char;word-break:break-all"><span style="font-size:9.0pt;font-family:宋体">例如，<span lang="EN-US">HTTP</span>协议时的端口默认是<span lang="EN-US">80</span>；<span lang="EN-US">HTTPS</span>协议时的端口默认是<span lang="EN-US">443</span>，等等。<span lang="EN-US">URL</span>中的<span lang="EN-US">IP</span>可以唯一标识一台物理机器，对应着一个网卡<span lang="EN-US">MAC</span>，网卡互动所有的协议给各种协议相关的软件进程，一般都是一对一互动，<span lang="EN-US">URL</span>中的端口号目的用来唯一标识协议相关的软件进程。端口编号的范围是<span lang="EN-US">0</span>～<span lang="EN-US">65535</span>，已经足够一个<span lang="EN-US">IP</span>标识的物理机器、操作系统中所有协议相关软件进程唯一标识的需求。</span></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:.6pt;    layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">↕</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">映射</span></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:#4F4F4F">“</span><span style="font-size:9.0pt;font-family:宋体">服务端操作系统中的协议相关的软件进程编号</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">”</span></p>    </td>   </tr>   <tr>    <td width="598" valign="top" style="width:448.65pt;border:dashed windowtext 1.0pt;    border-top:none;padding:0cm 5.4pt 0cm 5.4pt">    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><b><span style="font-size:9.0pt;font-family:宋体">一、互联网应用层协议中的<span lang="EN-US">URL</span>中的“目录路径名称<span lang="EN-US">/</span>文件名称<span lang="EN-US">?</span>发送的数据名称<span lang="EN-US">=</span>发送的数据值<span lang="EN-US">&amp;</span>发送的数据名称<span lang="EN-US">=</span>发送的数据值<span lang="EN-US">&amp;</span>…<span lang="EN-US">#</span>文件中的书签”</span></b></p>    <p class="MsoNormal" style="layout-grid-mode:char"><span style="font-size:    9.0pt;font-family:宋体;color:#4F4F4F">例如，“<span lang="EN-US">baidu.com/s/xxx/sss.html</span></span><span style="font-size:9.0pt;font-family:宋体">？<span lang="EN-US">name=hjb&amp;gender=male#Section1</span></span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">”（“</span><span style="font-size:9.0pt;font-family:宋体">目录路径名称</span><span style="font-size:    9.0pt;font-family:宋体;color:#4F4F4F">”由服务端<span lang="EN-US">MVC</span>的<span lang="EN-US">Web</span>服务转换本机磁盘目录而成，以便隐藏真实目录提高安全性。“</span><span style="font-size:9.0pt;font-family:宋体">发送的数据名称<span lang="EN-US">=</span>发送的数据值<span lang="EN-US">&amp;</span>发送的数据名称<span lang="EN-US">=</span>发送的数据值<span lang="EN-US">&amp;…</span></span><span style="font-size:9.0pt;font-family:    宋体;color:#4F4F4F">”提供了发送数据的途径之一。书签则提供了访问<span lang="EN-US">.html</span>文件中的具体部分的可能性）。</span></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:.6pt;    layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">↕</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">转换</span></p>    <p class="MsoNormal" align="center" style="text-align:center;layout-grid-mode:    char"><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">“</span><span style="font-size:9.0pt;font-family:宋体">服务端</span><span style="font-size:    9.0pt;font-family:宋体;color:#4F4F4F">内存地址</span><span style="font-size:9.0pt;    font-family:宋体;color:#4F4F4F">”</span></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:.6pt;    layout-grid-mode:char"><span lang="EN-US" style="font-size:9.0pt">↕</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">映射</span></p>    <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;    layout-grid-mode:char"><span style="font-size:9.0pt;font-family:宋体;    color:#4F4F4F">“</span><span style="font-size:9.0pt;font-family:宋体">服务端</span><span lang="EN-US" style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">CPU</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">总线地址</span><span style="font-size:9.0pt;font-family:宋体;color:#4F4F4F">”</span></p>    </td>   </tr>  </tbody></table>  </div>  <p class="MsoNormal" align="center" style="text-align:center;text-indent:0cm;  layout-grid-mode:char"><b><span lang="EN-US" style="font-size:2.0pt;font-family:  宋体;color:black">&nbsp;&nbsp;&nbsp;&nbsp; </span></b></p>  </td> </tr></tbody></table></div><p class="MsoNormal" style="text-indent:0cm"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p><h1><a name="_Toc120361018"></a><a name="_Toc120361065"></a><a name="_Toc120361434"></a><a name="_Ref126962156"></a><a name="_Ref126964033"></a><a name="_Ref127099642"></a><a name="_Ref130837100"></a><a name="_Ref130838004"></a><a name="_Ref132138058"></a><a name="_Ref133569522"></a><a name="_Ref133569540"></a><a name="_Toc140229558"><span style="font-size:12.0pt;line-height:150%;font-family:黑体;font-weight:normal">参考文献、文中注释</span></a></h1></div><div><br clear="all"><hr align="left" size="1" width="33%"><div id="edn1"><p class="MsoNormal" style="text-indent:0cm"><a href="#_ednref1" name="_edn1" title=""></a><span lang="EN-US" style="font-size:9.0pt">[<span lang="EN-US" style="font-size:9.0pt;font-family:&quot;Times New Roman&quot;,serif">[1]</span>] </span><span lang="EN-US"><a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/controllers/actions?view=aspnetcore-7.0">https://learn.microsoft.com/en-us/aspnet/core/mvc/controllers/actions?view=aspnetcore-7.0</a></span></p></div></div><!--右键菜单开始 --><div id="popupDiv" onclick="fnPopupClosePopup();" oncontextmenu="fnPopupContextMenu();" style="position: fixed; z-index: 1000; margin: 2px; border: 1px solid black; overflow: visible; font-size: 11px; cursor: default; display: block; background-color: lightyellow; width: 90px; height: 60px; left: 501px; top: 238px;"><div style="position: relative;" onmouseover="fnPopupMouseOver();" onmouseout="fnPopupMouseOut();"><div title="刷新标题面" onclick="location.reload();" style="color: rgb(0, 0, 0);">刷新</div><div title="单击将在是否可以在线编辑课文的之间切换!" onclick="if(document.body.contentEditable==true) { document.body.contentEditable = false; } else { document.body.contentEditable = true;}" style="color: rgb(0, 0, 0);">课文编辑切换</div><div title="编辑后可保存编辑结果" onclick="fnSave();" style="color: rgb(0, 255, 0);">保存</div><div title="打开帮助文档" onclick="fnHelp();">帮助</div></div></div><!--右键菜单结束--><script id="sIdScriptAutoAddedForDynFunction1" src="../../../../common/script/content.js"></script><script id="sIdScriptAutoAddedForDynFunction2" src="../../../../common/script/Popup.js"></script><script id="sIdScriptAutoAddedForDynFunction3">document.body.onload=fnOnLoad;</script></body></html>